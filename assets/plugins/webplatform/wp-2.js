(function(){var requirejs,require,define;(function(e){function n(e,n){if(e&&"."===e.charAt(0)&&n){n=n.split("/"),n=n.slice(0,n.length-1),e=n.concat(e.split("/"));var i,t;for(i=0;t=e[i];i++)if("."===t)e.splice(i,1),i-=1;else if(".."===t){if(1===i&&(".."===e[2]||".."===e[0]))break;i>0&&(e.splice(i-1,2),i-=2)}e=e.join("/")}return e}function i(n,i){return function(){return r.apply(e,c.call(arguments,0).concat([n,i]))}}function t(e){return function(i){return n(i,e)}}function a(e){return function(n){d[e]=n}}function o(n){if(p.hasOwnProperty(n)){var i=p[n];delete p[n],l.apply(e,i)}return d[n]}function s(e,i){var a,s,l=e.indexOf("!");return-1!==l?(a=n(e.slice(0,l),i),e=e.slice(l+1),s=o(a),e=s&&s.normalize?s.normalize(e,t(i)):n(e,i)):e=n(e,i),{f:a?a+"!"+e:e,n:e,p:s}}var l,r,d={},p={},c=[].slice;"function"!=typeof define&&(l=function(n,t,l,r){var c,u,m,f,h,v,y=[];if(r||(r=n),"function"==typeof l){for(!t.length&&l.length&&(t=["require","exports","module"]),f=0;t.length>f;f++)if(v=s(t[f],r),m=v.f,"require"===m)y[f]=i(n);else if("exports"===m)y[f]=d[n]={},c=!0;else if("module"===m)u=y[f]={id:n,uri:"",exports:d[n]};else if(d.hasOwnProperty(m)||p.hasOwnProperty(m))y[f]=o(m);else{if(!v.p)throw n+" missing "+m;v.p.load(v.n,i(r,!0),a(m),{}),y[f]=d[m]}h=l.apply(d[n],y),n&&(u&&u.exports!==e?d[n]=u.exports:c||(d[n]=h))}else n&&(d[n]=l)},requirejs=r=function(n,i,t,a){return"string"==typeof n?o(s(n,i).f):(n.splice||(i.splice?(n=i,i=arguments[2]):n=[]),a?l(e,n,i,t):setTimeout(function(){l(e,n,i,t)},15),r)},r.config=function(){return r},require||(require=r),define=function(e,n,i){n.splice||(i=n,n=[]),define.unordered?p[e]=[e,n,i]:l(e,n,i)},define.amd={jQuery:!0})})(),define("dependencies/almond/almond",function(){}),define("core/lib/error",["require","exports","module"],function(e,n,i){i.exports={wrap:function(e,n){return function(){try{return e.apply(null,arguments)}catch(i){var t="";void 0!==n&&(t=' (during "'+(n>=0?arguments[n]:n)+'")'),console.error(i.name+": "+i.message+t),console.log(i&&i.stack||i)}}},wrapAll:function(e,n){for(var t in e)"function"==typeof e[t]&&(e[t]=i.exports.wrap(e[t],n?n+t:t))}}}),define("core/lib/events",["require","exports","module","./error"],function(e,n,i){function t(e,n,t,a){if(a=a||[],!e)throw"type must be truthy";if(!n||null===n||"function"!=typeof n)throw"Could not add listener for event '"+e+"' "+(n?"this listener isn't a function":"this listener is undefined");s[e]=s[e]||[];for(var l=0;s[e].length>l;l++)if(s[e][l]&&s[e][l].origFunc===n)return console.warn("Could not add listener for event '"+e+"' this listener is already registered on this event"),void 0;0===s[e].length&&i.exports.emit("event.type.added",[e],!0),s[e].push({origFunc:n,func:o.wrap(n,e),once:!!t,paramMatch:a})}function a(e,n,i){i?e.func.apply(void 0,n):setTimeout(function(){e.func.apply(void 0,n)},1)}var o=e("./error"),s={};i.exports={on:function(e,n,i){t(e,n,!1,i)},once:function(e,n,i){t(e,n,!0,i)},emit:function(e,n,t){n=n||[],t=t||void 0===t,s[e]&&s[e].forEach(function(e,o,s){var l=e.paramMatch.every(function(e,t){return n[t]&&n[t].webviewId&&e?e.webviewId===n[t].webviewId:e===n[t]||e===i.exports.FILTER_ANY});l&&(a(e,n,t),e.once&&delete s[o])})},clear:function(e){e&&delete s[e]},un:function(e,n){e&&n&&s[e]&&(s[e]=s[e].filter(function(i){return!((i.func===n||i.origFunc===n)&&-1!==s[e].indexOf(i))}),0===s[e].length&&i.exports.emit("event.type.removed",[e],!0))},isOn:function(e){return s[e]?s[e]!==void 0&&0!==s[e].length:!1},FILTER_ANY:{}}}),define("core/lib/webEvents",["require","exports","module","./events"],function(e,n,i){function t(e,n,i){var t=v[e]||[];if(!e)throw"id must be truthy";if(!n)throw"type must be truthy";return t=t[n],!t&&i&&(v[e]=v[e]||[],v[e][n]=[],t=v[e][n]),t}function a(e){return h.reduce(function(n,i){var a,o;return"string"==typeof n?(o=t(e,n),a=Array.isArray(o)?o.length:0):a=n,o=t(e,i),a+=Array.isArray(o)?o.length:0})}function o(e,n,i){var t,o,s=f.exec(n),l=s?"webview.setPropertyChangedEventEnabled":"webview.setWebEventEnabled",r=s?s[1]:n,d=-1!==h.indexOf(n);qnx.callExtensionMethod(l,e,r,i),s&&(t="1"===qnx.callExtensionMethod("webview.isAnyPropertyChangedEventsEnabled",e),qnx.callExtensionMethod("webview.setWebEventEnabled",e,"PropertyChanged",t)),d&&(o=a(e),i&&1===o&&qnx.callExtensionMethod("webview.setEnableNetworkResourceRequestedEvents",e,!0),i||0!==o||qnx.callExtensionMethod("webview.setEnableNetworkResourceRequestedEvents",e,!1))}function s(e,n,i){var a,s=t(i,e);if(s)for(m.un(e,n),a=0;s.length>a;a++)if(s[a].func===n){s.splice(a,1),0===s.length&&o(i,e,!1);break}}function l(e,n,i,a){var s=t(i,e,!0);s.push({func:n,once:!!a}),o(i,e,!0)}function r(e,n,i){l(e,n,i,!1),m.on(e,n,[{webviewId:i}])}function d(e,n,i){l(e,n,i,!0),m.once(e,n,[{webviewId:i}])}function p(e,n,i,a){var o=t(n,e);a=a||{},i=i||[],a.webviewId=n,i.unshift(a),o&&(m.emit(e,i,a.sync),o.some(function(){v[n][e]=o.filter(function(e){return!e.once})}))}function c(e){e&&delete v[e]}function u(e){-1===h.indexOf(e)&&h.push(e)}var m=e("./events"),f=RegExp("^Property(.*)Event$"),h=["NetworkResourceRequested","NetworkResourceStatusReceived","NetworkResourceHeaderReceived","NetworkResourceDataReceived"],v={};i.exports={enableWebEvent:o,getNetworkListenerCount:a,clear:c,on:r,un:s,emit:p,once:d,defineNetworkEvent:u,listenersFor:t}}),define("core/lib/chrome",["require","exports","module"],function(e,n,i){var t;t={id:1},i.exports=t}),define("wp2/lib/windowAnimations",["require","exports","module"],function(e,n,i){var t,a={};t={windowAnimationFinishedCallbacks:a,animateWindowLocation:function(e,n,i,t,o,s,l,r){var d=qnx.callExtensionMethod("windowAnimations.animateWindowLocation",e,n,i,t,o,s,l);r&&(a[d]=r),qnx.callExtensionMethod("windowAnimations.startAnimation")},animateWindowLocations:function(e,n,i,t){var o=["windowAnimations.animateWindowLocationMultiple",e,n].concat(i),s=qnx.callExtensionMethod.apply(qnx,o);t&&(a[s]=t),qnx.callExtensionMethod("windowAnimations.startAnimation")},animateGlobalAlpha:function(e,n,i,t,o,s){var l=qnx.callExtensionMethod("windowAnimations.animateGlobalAlpha",e,n,i,t,o);s&&(a[l]=s),qnx.callExtensionMethod("windowAnimations.startAnimation")},animateGlobalAlphas:function(e,n,i,t){var o=["windowAnimations.animateGlobalAlphaMultiple",e,n].concat(i),s=qnx.callExtensionMethod.apply(qnx,o);t&&(a[s]=t),qnx.callExtensionMethod("windowAnimations.startAnimation")}},i.exports=t}),define("core/lib/rpc/rpc",["require","exports","module"],function(require,exports,module){function postMessage(e,n,i){var t,a;return n&&"string"==typeof n?(t=void 0===i?"":"object"==typeof i?JSON.stringify(i):"'"+i+"'",a="wp.view.rpc.emit('"+n+"', ["+t+"])",e.executeJavaScript(a),void 0):Error("Message type is required")}function handleJSCallback(webView,webViewOptions,value){var args=eval(JSON.parse(value).args),command=args[0],info,eventOptions={};"webplatform.rpc"===command&&(info=JSON.parse(args[1]),webView.rpc.emit(info.messageType,[info.message],eventOptions))}function on(e,n,i){e.on("rpc."+n,i)}function once(e,n,i){e.once("rpc."+n,i)}function un(e,n,i){e.un("rpc."+n,i)}function emit(e,n,i,t){e.emit("rpc."+n,i,t)}function enableRpcOn(e){e.isWebEventAllowed("JavaScriptCallback")||(e.allowQnxObject=!0,e.on("JavaScriptCallback",handleJSCallback.bind(null,e)))}function disableRpcOn(e){e.isWebEventAllowed("JavaScriptCallback")&&(e.allowQnxObject=!1,e.un("JavaScriptCallback",handleJSCallback.bind(null,e)))}var rpc;rpc={postMessage:postMessage,on:on,un:un,once:once,emit:emit,enableRpcOn:enableRpcOn,disableRpcOn:disableRpcOn},module.exports=rpc}),define("wp2/lib/rpc",["require","exports","module"],function(require,exports,module){function publish(e,n,i,t){t=t||{},_published[e]||(_published[e]={}),_published[e][n]={callback:i,scope:t.scope,once:t.once}}function unpublish(e,n){delete _published[e][n]}function execute(e,n,i,t){try{if(i)return e.callback.apply(e.scope,n);setTimeout(function(){var i=[n,t];e.callback.apply(e.scope,i)},1)}catch(a){console.error(a&&a.stack||a)}}function init(){var controller=window.wp.getController();controller.on("JavaScriptCallback",function(options,value,sourceWebViewId){var args=eval(JSON.parse(value).args),command=args[0],name=args[1],functionArgs=args[2],callbackId=args[3];"webplatform.rpc"===command&&rpc.runPublishedFunction(controller.id,name,functionArgs,!1,function(e){var n,i=callbackId;e&&(i+=", "+JSON.stringify(e)),n="wp.getController().runRemoteExecCallback("+i+")",qnx.callExtensionMethod("webview.executeJavaScript",sourceWebViewId,n,"NormalWorld")})})}function allowRpc(e,n){var i=wp.getController().id,t=n?"enableWebEventRedirect":"disableWebEventRedirect";e[t]("JavaScriptCallback",i),qnx.callExtensionMethod("webview.setWebEventEnabled",e.id,"JavaScriptCallback",n)}var rpc,_published={},_pendingCallbacks={},lastId=0,hasBeenInit;rpc={publish:function(e,n,i,t){if(hasBeenInit||(hasBeenInit=!0,init()),!e)throw"WebView ID is invalid";if(!n)throw"Function name is invalid";publish(e,n,i,t)},unpublish:function(e,n){if(!n)throw"Function name is invalid";unpublish(e,n)},runPublishedFunction:function(e,n,i,t,a){var o,s=_published[e][n];if(i=i||[],!s)throw"WebView with ID "+e+" has not published a function named '"+n+"'";return o=execute(s,i,t,a),s.once&&delete _published[e][n],t?o:void 0},clear:function(e){e&&delete _published[e]},allowRpc:allowRpc,remoteExec:function(e,n,i,t){_pendingCallbacks[lastId]=t,qnx.callExtensionMethod("webplatform.rpc",n,JSON.stringify(i),lastId++)},runRemoteExecCallback:function(e,n){_pendingCallbacks[e](n),delete _pendingCallbacks[e]}},module.exports=rpc}),define("core/lib/WebView",["require","exports","module","./events","./webEvents","./chrome","../../wp2/lib/windowAnimations","./rpc/rpc","../../wp2/lib/rpc"],function(e,n,i){function t(n){var i,t,l,d=qnx.callExtensionMethod("webview.applicationWindowGroup",s),p=n&&"number"==typeof n.processId?n.processId:0,c=n&&n.defaultSendEventHandlers?n.defaultSendEventHandlers:[],u=n&&n.defaultWebEventHandlers?n.defaultWebEventHandlers:[],m=n&&n.WebViewId?n.WebViewId:parseInt(qnx.callExtensionMethod("webview.create",d,p),10),f=!1,h=!1,v=this,y=!1,g=!1,w=!1,b=!1,x=!1,T=!1;o.on("Created",function(){var n,i;v.autoDeferNetworkingAndJavaScript=!1,v.createTouchInputSession(),"1"===qnx.callExtensionMethod("webview.isEnableConsoleLogging",s)&&(v.consoleLogEnabled=!0),i=c.concat(u),i.forEach(function(n){var i=n.replace(/^on/,"");o.on(i,function(){e("../../wp2/lib/defaultHandlers/"+n).handle(v).apply(null,Array.prototype.slice.apply(arguments))},m)}),v.on("SelectionChanged",function(e,n){n=JSON.parse(n),v.isSelectionVisible=0>n.startX&&0>n.endX&&0>n.startY&&0>n.endY?!1:!0}),n=function(e,n,i){var t;t=v.isContextmenuVisible?function(){v.emit("ContextMenuCancelEvent")}:v.isTSMVisible?function(){qnx.callExtensionMethod("webview.cancelContextMenu",v.id,"HideTSM")}:v.isSelectionVisible?function(){qnx.callExtensionMethod("webview.cancelSelection",v.id)}:void 0,qnx.callExtensionMethod("application.systemKeyPress",e,!!t||i),t&&t()},a.on("application.systemKeyPress",n,[a.FILTER_ANY,"Back",a.FILTER_ANY]),v.on("PropertyTSMVisibleEvent",function(e,n){v.isTSMVisible="true"===n})},m),n&&n.onCreate&&o.on("Created",n.onCreate,m),this.__defineGetter__("id",function(){return m}),this.__defineGetter__("windowGroup",function(){return d}),this.__defineGetter__("visible",function(){return"1"===qnx.callExtensionMethod("webview.isVisible",this.id)}),this.__defineSetter__("visible",function(e){qnx.callExtensionMethod("webview.setVisible",this.id,!!e)}),this.__defineGetter__("pluginsEnabled",function(){return"1"===qnx.callExtensionMethod("webview.isEnablePlugins",this.id)}),this.__defineSetter__("pluginsEnabled",function(e){qnx.callExtensionMethod("webview.setEnablePlugins",this.id,e)}),this.__defineGetter__("active",function(){return"1"===qnx.callExtensionMethod("webview.isActive",this.id)}),this.__defineSetter__("active",function(e){qnx.callExtensionMethod("webview.setActive",this.id,!!e)}),this.__defineGetter__("consoleLogEnabled",function(){return"1"===qnx.callExtensionMethod("webview.setEnableConsoleLogging",this.id)}),this.__defineSetter__("consoleLogEnabled",function(e){qnx.callExtensionMethod("webview.setEnableConsoleLogging",this.id,e)}),this.__defineSetter__("backgroundColor",function(e){qnx.callExtensionMethod("webview.setBackgroundColor",this.id,e)}),this.__defineGetter__("backgroundColor",function(){return parseInt(qnx.callExtensionMethod("webview.backgroundColor",this.id),10)}),this.__defineSetter__("devicePixelRatio",function(e){qnx.callExtensionMethod("webview.setDevicePixelRatio",this.id,e)}),this.__defineGetter__("devicePixelRatio",function(){return parseFloat(qnx.callExtensionMethod("webview.devicePixelRatio",this.id))}),this.__defineSetter__("sensitivity",function(e){qnx.callExtensionMethod("webview.setSensitivity",this.id,e)}),this.__defineGetter__("sensitivity",function(){return qnx.callExtensionMethod("webview.sensitivity",this.id)}),this.__defineGetter__("zOrder",function(){return parseInt(qnx.callExtensionMethod("webview.zOrder",this.id),10)}),this.__defineSetter__("zOrder",function(e){qnx.callExtensionMethod("webview.setZOrder",this.id,parseInt(e,10))}),this.__defineGetter__("url",function(){return qnx.callExtensionMethod("webview.location",this.id)}),this.__defineSetter__("url",function(e){qnx.callExtensionMethod("webview.loadURL",this.id,e)}),this.__defineGetter__("originalLocation",function(){return qnx.callExtensionMethod("webview.originalLocation",this.id)}),this.__defineGetter__("enableCrossSiteXHR",function(){return"1"===qnx.callExtensionMethod("webview.isEnableCrossSiteXHR",this.id)}),this.__defineSetter__("enableCrossSiteXHR",function(e){qnx.callExtensionMethod("webview.setEnableCrossSiteXHR",this.id,e)}),this.__defineGetter__("enableWebInspector",function(){return y}),this.__defineSetter__("enableWebInspector",function(e){y=e,qnx.callExtensionMethod("webview.setEnabledOutOfProcessWebInspector",this.id,e),this.id===s&&a.emit("inspector.statusChanged",[!0],!1)}),this.__defineGetter__("enableInProcessWebInspector",function(){return g}),this.__defineSetter__("enableInProcessWebInspector",function(e){g=e,qnx.callExtensionMethod("webview.setWebInspectorEnabled",this.id,e),this.id===s&&a.emit("inspector.statusChanged",[!0],!1)}),this.__defineGetter__("setFileSystemSandbox",function(){return"1"===qnx.callExtensionMethod("webview.fileSystemAPISandboxed",this.id)}),this.__defineSetter__("setFileSystemSandbox",function(e){qnx.callExtensionMethod("webview.setFileSystemAPISandboxed",this.id,e)}),this.__defineGetter__("autoDeferNetworkingAndJavaScript",function(){return"1"===qnx.callExtensionMethod("webview.isAutoDeferNetworkingAndJavaScript",this.id)}),this.__defineSetter__("autoDeferNetworkingAndJavaScript",function(e){qnx.callExtensionMethod("webview.setAutoDeferNetworkingAndJavaScript",this.id,e)}),this.__defineGetter__("allowQnxObject",function(){return f}),this.__defineSetter__("allowQnxObject",function(e){f=e,qnx.callExtensionMethod("webview.enableQnxJavaScriptObject",this.id,e)}),this.__defineGetter__("uiWebView",function(){return l}),this.__defineSetter__("uiWebView",function(e){l=e}),this.__defineGetter__("processId",function(){return p}),this.__defineSetter__("extraHttpHeaders",function(e){var n=JSON.stringify(e);qnx.callExtensionMethod("webview.setExtraHttpHeaders",this.id,n)}),this.__defineGetter__("extraHttpHeaders",function(){return JSON.parse(qnx.callExtensionMethod("webview.extraHttpHeaders",this.id))}),this.__defineSetter__("defaultFontSize",function(e){qnx.callExtensionMethod("webview.setDefaultFontSize",this.id,e)}),this.__defineGetter__("defaultFontSize",function(){return parseFloat(qnx.callExtensionMethod("webview.defaultFontSize",this.id))}),this.__defineSetter__("fullScreenVideoCapable",function(e){qnx.callExtensionMethod("webview.setFullScreenVideoCapable",this.id,e)}),this.__defineGetter__("fullScreenVideoCapable",function(){return"1"===qnx.callExtensionMethod("webview.fullScreenVideoCapable",this.id)}),this.__defineSetter__("allowAllPropertyChangedEvents",function(e){qnx.callExtensionMethod("webview.setAllPropertyChangedEventsEnabled",this.id,e)}),this.__defineGetter__("allowAllPropertyChangedEvents",function(){return"1"===qnx.callExtensionMethod("webview.isAllPropertyChangedEventsEnabled",this.id)}),this.__defineSetter__("allowAllWebEvents",function(e){qnx.callExtensionMethod("webview.setAllWebEventsEnabled",this.id,e)}),this.__defineGetter__("allowAllWebEvents",function(){return"1"===qnx.callExtensionMethod("webview.isAllWebEventsEnabled",this.id)}),this.__defineGetter__("allowsAnyPropertyChangedEvents",function(){return"1"===qnx.callExtensionMethod("webview.isAnyPropertyChangedEventsEnabled",this.id)}),this.__defineGetter__("allowsAnyWebEvents",function(){return"1"===qnx.callExtensionMethod("webview.isAnyWebEventsEnabled",this.id)}),this.__defineSetter__("javaScriptInterruptTimeout",function(e){qnx.callExtensionMethod("webview.setJavaScriptInterruptTimeout",this.id,e)}),this.__defineGetter__("javaScriptInterruptTimeout",function(){return parseInt(qnx.callExtensionMethod("webview.javaScriptInterruptTimeout",this.id),10)}),this.__defineGetter__("jsScreenWindowHandle",function(){return qnx.callExtensionMethod("webview.jsScreenWindowHandle",this.id)}),this.__defineSetter__("allowWebInspection",function(e){qnx.callExtensionMethod("webview.setAllowWebInspection",this.id,this.id,e)}),this.__defineSetter__("enableDialogRequestedEvents",function(e){qnx.callExtensionMethod("webview.setEnableDialogRequestedEvents",this.id,e)}),this.__defineGetter__("enableDialogRequestedEvents",function(){return"1"===qnx.callExtensionMethod("webview.isEnableDialogRequestedEvents",this.id)}),this.__defineSetter__("enableJavaScript",function(e){qnx.callExtensionMethod("webview.setEnableJavaScript",this.id,e)}),this.__defineGetter__("enableJavaScript",function(){return"1"===qnx.callExtensionMethod("webview.isEnableJavaScript",this.id)}),this.__defineSetter__("keyboardVisible",function(e){w=e,qnx.callExtensionMethod("webview.setKeyboardVisible",this.id,e)}),this.__defineGetter__("keyboardVisible",function(){return w}),this.__defineSetter__("overScrollColor",function(e){qnx.callExtensionMethod("webview.setOverScrollColor",this.id,e)}),this.__defineGetter__("overScrollColor",function(){return parseInt(qnx.callExtensionMethod("webview.overScrollColor",this.id),10)}),this.__defineSetter__("userAgent",function(e){qnx.callExtensionMethod("webview.setUserAgent",this.id,e)}),this.__defineGetter__("userAgent",function(){return qnx.callExtensionMethod("webview.userAgent",this.id)}),this.__defineGetter__("title",function(){return qnx.callExtensionMethod("webview.title",this.id)}),this.__defineGetter__("status",function(){return qnx.callExtensionMethod("webview.status",this.id)}),this.__defineGetter__("currentContext",function(){return qnx.callExtensionMethod("webview.currentContext",this.id)}),this.__defineSetter__("pointerInteractionMode",function(e){t=e=!!e,qnx.callExtensionMethod("webview.setEnablePointerInteractionMode",this.id,e)}),this.__defineGetter__("pointerInteractionMode",function(){return void 0!==t?t:t="1"===qnx.callExtensionMethod("webview.isEnablePointerInteractionMode",this.id)}),this.__defineSetter__("spatialNavigation",function(e){i=e=!!e,qnx.callExtensionMethod("webview.setEnableSpatialNavigation",this.id,e)}),this.__defineGetter__("spatialNavigation",function(){return void 0!==i?i:i="1"===qnx.callExtensionMethod("webview.isEnableSpatialNavigation",this.id)}),this.__defineSetter__("keyboardThemeColor",function(e){"dark"===e?e=0:"light"===e&&(e=Math.pow(2,32)-1),qnx.callExtensionMethod("webview.setKeyboardThemeColor",this.id,e)}),this.__defineGetter__("keyboardThemeColor",function(){var e=qnx.callExtensionMethod("webview.getKeyboardThemeColor",this.id)-0;return e=0===e?"dark":e===Math.pow(2,32)-1?"light":""+e}),this.__defineGetter__("isSelectionVisible",function(){return b}),this.__defineSetter__("isSelectionVisible",function(e){b=e}),this.__defineGetter__("isContextmenuVisible",function(){return x}),this.__defineSetter__("isContextmenuVisible",function(e){x=e}),this.__defineGetter__("isTSMVisible",function(){return T}),this.__defineSetter__("isTSMVisible",function(e){T=e}),this.rpc={on:r.on.bind(null,v),un:r.un.bind(null,v),once:r.once.bind(null,v),emit:r.emit.bind(null,v),postMessage:r.postMessage.bind(null,v),get enable(){return h},set enable(e){var n=e===!0;h=n,r[n?"enableRpcOn":"disableRpcOn"](v)}}}var t,a=e("./events"),o=e("./webEvents"),s=e("./chrome").id,l=e("../../wp2/lib/windowAnimations"),r=e("./rpc/rpc"),d=e("../../wp2/lib/rpc"),p=!1;t.prototype.on=function(e,n){o.on(e,n,this.id)},t.prototype.un=function(e,n){o.un(e,n,this.id)},t.prototype.emit=function(e,n,i){o.emit(e,this.id,n,i)},t.prototype.once=function(e,n){o.once(e,n,this.id)},t.prototype.setGeometry=function(e,n,i,t){qnx.callExtensionMethod("webview.setGeometry",this.id,e,n,i,t)},t.prototype.animateWindowLocation=function(e,n,i,t,a,o,s){var r=qnx.callExtensionMethod("webview.jsScreenWindowHandle",this.id);l.animateWindowLocation(r,e,n,i,t,a,o,s)},t.prototype.reload=function(){qnx.callExtensionMethod("webview.reload",this.id)},t.prototype.stop=function(e){qnx.callExtensionMethod("webview.stop",this.id),e&&"function"==typeof e&&e()},t.prototype.destroy=function(e){qnx.callExtensionMethod("webview.destroy",this.id),e&&"function"==typeof e&&e()},t.prototype.syncProxyCredential=function(e,n){qnx.callExtensionMethod("webview.syncProxyCredential",this.id,e,n)},t.prototype.initialize=function(e){qnx.callExtensionMethod("webview.initialize",this.id,this.windowGroup,e)},t.prototype.delete=function(e){qnx.callExtensionMethod("webview.delete",this.id),a.clear(this.id),d.clear(this.id),e&&"function"==typeof e&&e()},t.prototype.isVideoFullScreen=function(){qnx.callExtensionMethod("webview.isVideoFullScreen",this.id)},t.prototype.executeJavaScript=function(e,n,i){qnx.callExtensionMethod("webview.executeJavaScript",this.id,e,n?"IsolatedWorld":"NormalWorld"),i&&"function"==typeof i&&i()},t.prototype.setBackgroundColor=function(e){qnx.callExtensionMethod("webview.setBackgroundColor",this.id,e)},t.prototype.notifyOpen=function(e,n,i){qnx.callExtensionMethod("webview.notifyOpen",this.id,e,n,i)},t.prototype.notifySystemLowMemory=function(){qnx.callExtensionMethod("webview.notifySystemLowMemory",this.id)},t.prototype.notifyHeaderReceived=function(e,n,i){qnx.callExtensionMethod("webview.notifyHeaderReceived",this.id,e,n,i)},t.prototype.notifyDataReceived=function(e,n,i){qnx.callExtensionMethod("webview.notifyDataReceived",this.id,e,n,i)},t.prototype.notifyApplicationOrientationDone=function(){qnx.callExtensionMethod("webview.notifyApplicationOrientationDone",this.id)},t.prototype.notifyDone=function(e){qnx.callExtensionMethod("webview.notifyDone",this.id,e)},t.prototype.notifyContextMenuCancelled=function(){qnx.callExtensionMethod("webview.notifyContextMenuCancelled",this.id)},t.prototype.publishRemoteFunction=function(e,n,i){d.publish(this.id,e,n,i)},t.prototype.unpublishRemoteFunction=function(e){d.unpublish(this.id,e)},t.prototype.remoteExec=function(e,n,i,t){d.remoteExec(e,n,i,t)},t.prototype.runRemoteExecCallback=function(e,n){d.runRemoteExecCallback(e,n)},t.prototype.setApplicationOrientation=function(e){qnx.callExtensionMethod("webview.setApplicationOrientation",this.id,e)},t.prototype.setExtraPluginDirectory=function(e){qnx.callExtensionMethod("webview.setExtraPluginDirectory",this.id,e)},t.prototype.continueSSLHandshaking=function(e,n){qnx.callExtensionMethod("webview.continueSSLHandshaking",this.id,e,n)},t.prototype.knownSSLCertificates=function(){return qnx.callExtensionMethod("webview.knownSSLCertificates",this.id)},t.prototype.addKnownSSLCertificate=function(e,n){return qnx.callExtensionMethod("webview.addKnownSSLCertificate",this.id,e,n)},t.prototype.hasKnownSSLCertificate=function(e){return qnx.callExtensionMethod("webview.knownSSLCertificate",this.id,e)},t.prototype.addOriginAccessWhitelistEntry=function(e,n,i){qnx.callExtensionMethod("webview.addOriginAccessWhitelistEntry",this.id,e,n,!!i)},t.prototype.removeOriginAccessWhitelistEntry=function(e,n,i){qnx.callExtensionMethod("webview.removeOriginAccessWhitelistEntry",this.id,e,n,!!i)},t.prototype.downloadURL=function(e){qnx.callExtensionMethod("webview.downloadURL",this.id,e)},t.prototype.handleContextMenuResponse=function(e){qnx.callExtensionMethod("webview.handleContextMenuResponse",this.id,e)},t.prototype.allowGeolocation=function(e){qnx.callExtensionMethod("webview.setAllowGeolocation",this.id,e,!0)},t.prototype.disallowGeolocation=function(e){qnx.callExtensionMethod("webview.setAllowGeolocation",this.id,e,!1)},t.prototype.isGeolocationAllowed=function(e){return qnx.callExtensionMethod("webview.isEnableGeolocation",this.id,e)},t.prototype.allowNotifications=function(e){qnx.callExtensionMethod("webview.setAllowNotification",this.id,e,!0)},t.prototype.disallowNotifications=function(e){qnx.callExtensionMethod("webview.setAllowNotification",this.id,e,!1)},t.prototype.setPopupWebView=function(e){qnx.callExtensionMethod("webview.setPopupWebView",this.id,e)},t.prototype.allowUserMedia=function(e,n){n&&n.length>0&&qnx.callExtensionMethod("webview.setAllowUserMedia",this.id,e,n)},t.prototype.disallowUserMedia=function(e){qnx.callExtensionMethod("webview.setAllowUserMedia",this.id,e,"")},t.prototype.allowWebEvent=function(e){qnx.callExtensionMethod("webview.setEnable"+e+"Events",this.id,!0)},t.prototype.disallowWebEvent=function(e){qnx.callExtensionMethod("webview.setEnable"+e+"Events",this.id,!1)},t.prototype.isWebEventAllowed=function(e){return"1"===qnx.callExtensionMethod("webview.isWebEventEnabled",this.id,e)||"1"===qnx.callExtensionMethod("webview.isEnable"+e+"Events",this.id)||!1},t.prototype.enableStringPatternMatching=function(e){qnx.callExtensionMethod("webview.setPatternMatchingEnabled",this.id,e)},t.prototype.addMultipleSSLCertificates=function(e){qnx.callExtensionMethod("webview.addKnownSSLCertificates",this.id,e)},t.prototype.captureContents=function(e,n,i){var t,a,o,s=0;a=function(e,n){n=JSON.parse(n),o=n.base64PNGImage,i&&"function"==typeof i&&(i(o),this.removeEventListener("CaptureContents",a),p=!1)},p||"function"!=typeof i||(this.on("CaptureContents",a),p=!0,t=s++),qnx.callExtensionMethod("webview.captureContents",this.id,t,e,n)},t.prototype.log=function(e){qnx.callExtensionMethod("webview.log",this.id,e)},t.prototype.removeAllKnownSSLCertificates=function(){qnx.callExtensionMethod("webview.removeAllKnownSSLCertificates",this.id)},t.prototype.removeKnownSSLCertificate=function(e,n){qnx.callExtensionMethod("webview.removeKnownSSLCertificate",this.id,e,n)},t.prototype.requestCurrentContextUpdate=function(){qnx.callExtensionMethod("webview.requestCurrentContextUpdate",this.id)},t.prototype.dialogResponse=function(e,n,i,t){qnx.callExtensionMethod("webview.dialogResponse",this.id,e,!0,n?n:"",i?encodeURIComponent(i):"",t?encodeURIComponent(t):"")},t.prototype.chooseFileResponse=function(e,n){n=n||"",qnx.callExtensionMethod("webview.chooseFileResponse",this.id,e,n)},t.prototype.createTouchInputSession=function(){qnx.callExtensionMethod("webview.createTouchInputSession",this.id)},t.prototype.destroyTouchInputSession=function(){qnx.callExtensionMethod("webview.destroyTouchInputSession",this.id)},t.prototype.setJoystickSessionSize=function(e,n){qnx.callExtensionMethod("webview.setJoystickSessionSize",this.id,JSON.stringify({width:e,height:n}))},i.exports=t}),define("wp2/lib/rotationHelper",["require","exports","module"],function(e,n,i){var t,a,o={},s=function(){t.notifyRotateComplete()},l=function(e,n,i){wp.getController().on("PropertyViewportEvent",s),window.screen.height===n&&window.screen.width===e&&wp.getController().emit("PropertyViewportEvent"),void 0!==typeof e&&void 0!==typeof n&&void 0!==typeof i&&qnx.callExtensionMethod("applicationWindow.setSize",e,n,i),t.setWindowOrientation(i),Object.keys(o).forEach(function(t){t=window.parseInt(t,10),o[t].setApplicationOrientation(i),o[t].setGeometry(0,0,e,n),o[t].notifyApplicationOrientationDone()})},r=function(e){switch(e){case"right_up":return 90;case"left_up":return 270;case"bottom_up":return 180;default:return 0}},d=function(e){var n=r(e.edge);t.setWindowOrientation(n-360),Object.keys(o).forEach(function(i){i=window.parseInt(i,10),o[i].setApplicationOrientation(n),o[i].setGeometry(0,0,e.width,e.height)})},p=function(){Object.keys(o).forEach(function(e){o[e].notifyApplicationOrientationDone()}),t.un("PropertyViewportEvent",s)};a={addWebview:function(e){o[e.id]=e},removeWebview:function(e){delete o[e.id]},init:function(e,n){t||(t=e,a.addWebview(n),t.on("application.rotate",l),t.on("application.rotateDone",p),n.on("invocation.cardResize",d))}},i.exports=a}),define("core/lib/webviewManager",["require","exports","module","./WebView","../../wp2/lib/rotationHelper","./events"],function(e,n,i){function t(){var e=window.wp.getApplication(),n=o(1);m.init(e,n),f.on("inspector.statusChanged",function(e){h.forEach(function(n){n.consoleLogEnabled=e})})}function a(e,n){var i,t={};return e&&"function"==typeof e?t.onCreate=e:(t=e?e:{},t.onCreate=n),t&&t.WebViewId&&(i=o(t.WebViewId)),i||(i=new u(t),h.push(i),m.addWebview(i)),i.on("Destroyed",function(){var e=h.indexOf(i);-1!==e&&h.splice(e,1),m.removeWebview(i)}),i}function o(e){var n,i;for(i=0;h.length>i;i++)if(h[i].id===e){n=h[i];break}return n}function s(e){var n,i;for(i=0;h.length>i;i++)if(h[i].name===e){n=h[i];break}return n}function l(e,n){h.forEach(function(i){i.on(e,n)})}function r(e,n){h.forEach(function(i){i.un(e,n)})}function d(e,n){h.forEach(function(i){i.once(e,n)})}function p(e,n,i){h.forEach(function(t){t.emit(e,n,i)})}var c,o,u=e("./WebView"),m=e("../../wp2/lib/rotationHelper"),f=e("./events"),h=[];c={init:t,createWebView:a,webViews:h,getWebViewById:o,getWebViewByName:s,on:l,un:r,once:d,emit:p},i.exports=c}),define("wp2/lib/defaultHandlers/InvokeRequestEvent",["require","exports","module"],function(e,n,i){i.exports={handle:function(e){return function(n,i){var t=JSON.parse(i),a={uri:t.uri};window.wp.core.invocation.invoke(a,function(n){n&&e&&e.uiWebView&&window.wp.getController().emit("InvokeRequestEventError",[n])})}}}}),define("wp2/lib/mimeTypes",["require","exports","module"],function(e,n,i){function t(){s.addMimeTypes("3g2","video/3gpp2"),s.addMimeTypes("3gp","video/3gpp"),s.addMimeTypes("aac","audio/aac"),s.addMimeTypes("abs","audio/x-mpeg"),s.addMimeTypes("ai","application/postscript"),s.addMimeTypes("aif","audio/x-aiff"),s.addMimeTypes("aifc","audio/x-aiff"),s.addMimeTypes("aiff","audio/x-aiff"),s.addMimeTypes("aim","application/x-aim"),s.addMimeTypes("amr","audio/amr"),s.addMimeTypes("art","image/x-jg"),s.addMimeTypes("asc","text/plain"),s.addMimeTypes("asf","video/x-ms-asf"),s.addMimeTypes("asx","video/x-ms-asf"),s.addMimeTypes("atom","application/atom+xml"),s.addMimeTypes("au","audio/basic"),s.addMimeTypes("avi","video/x-msvideo"),s.addMimeTypes("avx","video/x-rad-screenplay"),s.addMimeTypes("bcpio","application/x-bcpio"),s.addMimeTypes("bin","application/octet-stream"),s.addMimeTypes("bmp","image/bmp"),s.addMimeTypes("body","text/html"),s.addMimeTypes("cdf","application/x-cdf"),s.addMimeTypes("cer","application/x-x509-ca-cert"),s.addMimeTypes("cgm","image/cgm"),s.addMimeTypes("class","application/java"),s.addMimeTypes("cpio","application/x-cpio"),s.addMimeTypes("csh","application/x-csh"),s.addMimeTypes("css","text/css"),s.addMimeTypes("dib","image/bmp"),s.addMimeTypes("djv","image/vnd.djvu"),s.addMimeTypes("djvu","image/vnd.djvu"),s.addMimeTypes("dll","application/octet-stream"),s.addMimeTypes("doc","application/msword"),s.addMimeTypes("odt","application/vnd.oasis.opendocument.text"),s.addMimeTypes("ods","application/vnd.oasis.opendocument.spreadsheet"),s.addMimeTypes("docm","application/vnd.ms-word.document.macroEnabled.12"),s.addMimeTypes("docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"),s.addMimeTypes("dot","application/msword"),s.addMimeTypes("dotm","application/vnd.ms-word.template.macroEnabled.12"),s.addMimeTypes("dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"),s.addMimeTypes("dtd","application/xml-dtd"),s.addMimeTypes("dv","video/x-dv"),s.addMimeTypes("dvi","application/x-dvi"),s.addMimeTypes("eps","application/postscript"),s.addMimeTypes("etx","text/x-setext"),s.addMimeTypes("exe","application/octet-stream"),s.addMimeTypes("flac","audio/flac"),s.addMimeTypes("gif","image/gif"),s.addMimeTypes("gtar","application/x-gtar"),s.addMimeTypes("gz","application/x-gzip"),s.addMimeTypes("h264","video/h264"),s.addMimeTypes("hdf","application/x-hdf"),s.addMimeTypes("hqx","application/mac-binhex40"),s.addMimeTypes("htc","text/x-component"),s.addMimeTypes("htm","text/html"),s.addMimeTypes("html","text/html"),s.addMimeTypes("hqx","application/mac-binhex40"),s.addMimeTypes("ico","image/x-icon"),s.addMimeTypes("ics","text/calendar"),s.addMimeTypes("ief","image/ief"),s.addMimeTypes("ifb","text/calendar"),s.addMimeTypes("jad","text/vnd.sun.j2me.app-descriptor"),s.addMimeTypes("jar","application/java-archive"),s.addMimeTypes("java","text/plain"),s.addMimeTypes("jnlp","application/x-java-jnlp-file"),s.addMimeTypes("jpe","image/jpeg"),s.addMimeTypes("jpeg","image/jpeg"),s.addMimeTypes("jpg","image/jpeg"),s.addMimeTypes("js","text/javascript"),s.addMimeTypes("jsf","text/plain"),s.addMimeTypes("jspf","text/plain"),s.addMimeTypes("kar","audio/x-midi"),s.addMimeTypes("latex","application/x-latex"),s.addMimeTypes("m2ts","video/MP2T"),s.addMimeTypes("m3u","audio/x-mpegurl"),s.addMimeTypes("m4a","audio/mp4a-latm"),s.addMimeTypes("m4b","audio/mp4a-latm"),s.addMimeTypes("m4p","audio/mp4a-latm"),s.addMimeTypes("m4u","video/vnd.mpegurl"),s.addMimeTypes("m4v","video/x-m4v"),s.addMimeTypes("mac","image/x-macpaint"),s.addMimeTypes("man","application/x-troff-man"),s.addMimeTypes("mathml","application/mathml+xml"),s.addMimeTypes("me","application/x-troff-me"),s.addMimeTypes("mid","audio/x-midi"),s.addMimeTypes("midi","audio/x-midi"),s.addMimeTypes("mif","application/x-mif"),s.addMimeTypes("mka","audio/x-matroska"),s.addMimeTypes("mkv","video/x-matroska"),s.addMimeTypes("mk3d","video/x-matroska-3d"),s.addMimeTypes("mov","video/quicktime"),s.addMimeTypes("movie","video/x-sgi-movie"),s.addMimeTypes("mp1","audio/x-mpeg"),s.addMimeTypes("mp2","audio/x-mpeg"),s.addMimeTypes("mp3","audio/x-mpeg"),s.addMimeTypes("mp4","video/mp4"),s.addMimeTypes("mpa","audio/x-mpeg"),s.addMimeTypes("mpe","video/mpeg"),s.addMimeTypes("mpeg","video/mpeg"),s.addMimeTypes("mpega","audio/x-mpeg"),s.addMimeTypes("mpg","video/mpeg"),s.addMimeTypes("mpv2","video/mpeg2"),s.addMimeTypes("ms","application/x-wais-source"),s.addMimeTypes("nc","application/x-netcdf"),s.addMimeTypes("oda","application/oda"),s.addMimeTypes("ogg","audio/ogg"),s.addMimeTypes("pbm","image/x-portable-bitmap"),s.addMimeTypes("pct","image/pict"),s.addMimeTypes("pdf","application/pdf"),s.addMimeTypes("pgm","image/x-portable-graymap"),s.addMimeTypes("pic","image/pict"),s.addMimeTypes("pict","image/pict"),s.addMimeTypes("pls","audio/x-scpls"),s.addMimeTypes("png","image/png"),s.addMimeTypes("pnm","image/x-portable-anymap"),s.addMimeTypes("pnt","image/x-macpaint"),s.addMimeTypes("pot","application/vnd.ms-powerpoint"),s.addMimeTypes("potm","application/vnd.ms-powerpoint.template.macroEnabled.12"),s.addMimeTypes("potx","application/vnd.openxmlformats-officedocument.presentationml.template"),s.addMimeTypes("ppm","image/x-portable-pixmap"),s.addMimeTypes("ppt","application/vnd.ms-powerpoint"),s.addMimeTypes("pps","application/vnd.ms-powerpoint"),s.addMimeTypes("ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"),s.addMimeTypes("ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"),s.addMimeTypes("pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"),s.addMimeTypes("pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"),s.addMimeTypes("ps","application/postscript"),s.addMimeTypes("psd","image/x-photoshop"),s.addMimeTypes("qcp","audio/qcelp"),s.addMimeTypes("qt","video/quicktime"),s.addMimeTypes("qti","image/x-quicktime"),s.addMimeTypes("qtif","image/x-quicktime"),s.addMimeTypes("ras","image/x-cmu-raster"),s.addMimeTypes("rdf","application/rdf+xml"),s.addMimeTypes("rgb","image/x-rgb"),s.addMimeTypes("rm","application/vnd.rn-realmedia"),s.addMimeTypes("roff","application/x-troff"),s.addMimeTypes("rtf","application/rtf"),s.addMimeTypes("rtx","text/richtext"),s.addMimeTypes("sh","application/x-sh"),s.addMimeTypes("shar","application/x-shar"),s.addMimeTypes("smf","audio/x-midi"),s.addMimeTypes("sit","application/x-stuffit"),s.addMimeTypes("snd","audio/basic"),s.addMimeTypes("src","application/x-wais-source"),s.addMimeTypes("sv4cpio","application/x-sv4cpio"),s.addMimeTypes("sv4crc","application/x-sv4crc"),s.addMimeTypes("svg","image/svg+xml"),s.addMimeTypes("svgz","image/svg+xml"),s.addMimeTypes("swf","application/x-shockwave-flash"),s.addMimeTypes("t","application/x-troff"),s.addMimeTypes("tar","application/x-tar"),s.addMimeTypes("tcl","application/x-tcl"),s.addMimeTypes("tex","application/x-tex"),s.addMimeTypes("texi","application/x-texinfo"),s.addMimeTypes("texinfo","application/x-texinfo"),s.addMimeTypes("tif","image/tiff"),s.addMimeTypes("tiff","image/tiff"),s.addMimeTypes("tr","application/x-troff"),s.addMimeTypes("tsv","text/tab-separated-values"),s.addMimeTypes("txt","text/plain"),s.addMimeTypes("ulw","audio/basic"),s.addMimeTypes("ustar","application/x-ustar"),s.addMimeTypes("vsd","application/x-visio"),s.addMimeTypes("vxml","application/voicexml+xml"),s.addMimeTypes("wav","audio/x-wav"),s.addMimeTypes("wma","audio/x-ms-wma"),s.addMimeTypes("wml","text/vnd.wap.wml"),s.addMimeTypes("wmlc","application/vnd.wap.wmlc"),s.addMimeTypes("wmls","text/vnd.wap.wmlscript"),s.addMimeTypes("wmlscriptc","application/vnd.wap.wmlscriptc"),s.addMimeTypes("wmv","video/x-ms-wmv"),s.addMimeTypes("wrl","x-world/x-vrml"),s.addMimeTypes("wspolicy","application/wspolicy+xml"),s.addMimeTypes("xbm","image/x-xbitmap"),s.addMimeTypes("xht","application/xhtml+xml"),s.addMimeTypes("xhtml","application/xhtml+xml"),s.addMimeTypes("xls","application/vnd.ms-excel"),s.addMimeTypes("xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"),s.addMimeTypes("xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),s.addMimeTypes("xlt","application/vnd.ms-excel"),s.addMimeTypes("xltm","application/vnd.ms-excel.template.macroEnabled.12"),s.addMimeTypes("xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"),s.addMimeTypes("xml","application/xml"),s.addMimeTypes("xpm","image/x-xpixmap"),s.addMimeTypes("xsl","application/xml"),s.addMimeTypes("xslt","application/xslt+xml"),s.addMimeTypes("xul","application/vnd.mozilla.xul+xml"),s.addMimeTypes("xwd","image/x-xwindowdump"),s.addMimeTypes("Z","application/x-compress"),s.addMimeTypes("z","application/x-compress"),s.addMimeTypes("zip","application/zip")
}function a(){s.addMimeTypes("atomcat","application/atomcat+xml"),s.addMimeTypes("atomsvc","application/atomsvc+xml"),s.addMimeTypes("ccxml","application/ccxml+xml"),s.addMimeTypes("cu","application/cu-seeme"),s.addMimeTypes("davmount","application/davmount+xml"),s.addMimeTypes("ecma","application/ecmascript"),s.addMimeTypes("emma","application/emma+xml"),s.addMimeTypes("epub","application/epub+zip"),s.addMimeTypes("pfr","application/font-tdpfr"),s.addMimeTypes("stk","application/hyperstudio"),s.addMimeTypes("jar","application/java-archive"),s.addMimeTypes("ser","application/java-serialized-object"),s.addMimeTypes("class","application/java-vm"),s.addMimeTypes("json","application/json"),s.addMimeTypes("lostxml","application/lost+xml"),s.addMimeTypes("hqx","application/mac-binhex40"),s.addMimeTypes("cpt","application/mac-compactpro"),s.addMimeTypes("mrc","application/marc"),s.addMimeTypes("ma,nb,mb","application/mathematica"),s.addMimeTypes("mathml","application/mathml+xml"),s.addMimeTypes("mbox","application/mbox"),s.addMimeTypes("mscml","application/mediaservercontrol+xml"),s.addMimeTypes("mp4s","application/mp4"),s.addMimeTypes("doc,dot","application/msword"),s.addMimeTypes("mxf","application/mxf"),s.addMimeTypes("oda","application/oda"),s.addMimeTypes("opf","application/oebps-package+xml"),s.addMimeTypes("ogx","application/ogg"),s.addMimeTypes("onetoc,onetoc2,onetmp,onepkg","application/onenote"),s.addMimeTypes("xer","application/patch-ops-error+xml"),s.addMimeTypes("pgp","application/pgp-encrypted"),s.addMimeTypes("asc,sig","application/pgp-signature"),s.addMimeTypes("prf","application/pics-rules"),s.addMimeTypes("p10","application/pkcs10"),s.addMimeTypes("p7m,p7c","application/pkcs7-mime"),s.addMimeTypes("p7s","application/pkcs7-signature"),s.addMimeTypes("cer","application/pkix-cert"),s.addMimeTypes("crl","application/pkix-crl"),s.addMimeTypes("pkipath","application/pkix-pkipath"),s.addMimeTypes("pki","application/pkixcmp"),s.addMimeTypes("pls","application/pls+xml"),s.addMimeTypes("ai,eps,ps","application/postscript"),s.addMimeTypes("cww","application/prs.cww"),s.addMimeTypes("rdf","application/rdf+xml"),s.addMimeTypes("rif","application/reginfo+xml"),s.addMimeTypes("rnc","application/relax-ng-compact-syntax"),s.addMimeTypes("rl","application/resource-lists+xml"),s.addMimeTypes("rld","application/resource-lists-diff+xml"),s.addMimeTypes("rs","application/rls-services+xml"),s.addMimeTypes("rsd","application/rsd+xml"),s.addMimeTypes("rss","application/rss+xml"),s.addMimeTypes("rtf","application/rtf"),s.addMimeTypes("sbml","application/sbml+xml"),s.addMimeTypes("scq","application/scvp-cv-request"),s.addMimeTypes("scs","application/scvp-cv-response"),s.addMimeTypes("spq","application/scvp-vp-request"),s.addMimeTypes("spp","application/scvp-vp-response"),s.addMimeTypes("sdp","application/sdp"),s.addMimeTypes("setpay","application/set-payment-initiation"),s.addMimeTypes("setreg","application/set-registration-initiation"),s.addMimeTypes("shf","application/shf+xml"),s.addMimeTypes("smi,smil","application/smil+xml"),s.addMimeTypes("rq","application/sparql-query"),s.addMimeTypes("srx","application/sparql-results+xml"),s.addMimeTypes("gram","application/srgs"),s.addMimeTypes("grxml","application/srgs+xml"),s.addMimeTypes("ssml","application/ssml+xml"),s.addMimeTypes("plb","application/vnd.3gpp.pic-bw-large"),s.addMimeTypes("psb","application/vnd.3gpp.pic-bw-small"),s.addMimeTypes("pvb","application/vnd.3gpp.pic-bw-var"),s.addMimeTypes("tcap","application/vnd.3gpp2.tcap"),s.addMimeTypes("pwn","application/vnd.3m.post-it-notes"),s.addMimeTypes("aso","application/vnd.accpac.simply.aso"),s.addMimeTypes("imp","application/vnd.accpac.simply.imp"),s.addMimeTypes("acu","application/vnd.acucobol"),s.addMimeTypes("atc,acutc","application/vnd.acucorp"),s.addMimeTypes("air","application/vnd.adobe.air-application-installer-package+zip"),s.addMimeTypes("xdp","application/vnd.adobe.xdp+xml"),s.addMimeTypes("xfdf","application/vnd.adobe.xfdf"),s.addMimeTypes("azf","application/vnd.airzip.filesecure.azf"),s.addMimeTypes("azs","application/vnd.airzip.filesecure.azs"),s.addMimeTypes("azw","application/vnd.amazon.ebook"),s.addMimeTypes("acc","application/vnd.americandynamics.acc"),s.addMimeTypes("ami","application/vnd.amiga.ami"),s.addMimeTypes("apk","application/vnd.android.package-archive"),s.addMimeTypes("cii","application/vnd.anser-web-certificate-issue-initiation"),s.addMimeTypes("fti","application/vnd.anser-web-funds-transfer-initiation"),s.addMimeTypes("atx","application/vnd.antix.game-component"),s.addMimeTypes("mpkg","application/vnd.apple.installer+xml"),s.addMimeTypes("swi","application/vnd.arastra.swi"),s.addMimeTypes("aep","application/vnd.audiograph"),s.addMimeTypes("mpm","application/vnd.blueice.multipass"),s.addMimeTypes("bmi","application/vnd.bmi"),s.addMimeTypes("rep","application/vnd.businessobjects"),s.addMimeTypes("cdxml","application/vnd.chemdraw+xml"),s.addMimeTypes("mmd","application/vnd.chipnuts.karaoke-mmd"),s.addMimeTypes("cdy","application/vnd.cinderella"),s.addMimeTypes("cla","application/vnd.claymore"),s.addMimeTypes("c4g,c4d,c4f,c4p,c4u","application/vnd.clonk.c4group"),s.addMimeTypes("csp","application/vnd.commonspace"),s.addMimeTypes("cdbcmsg","application/vnd.contact.cmsg"),s.addMimeTypes("cmc","application/vnd.cosmocaller"),s.addMimeTypes("clkx","application/vnd.crick.clicker"),s.addMimeTypes("clkk","application/vnd.crick.clicker.keyboard"),s.addMimeTypes("clkp","application/vnd.crick.clicker.palette"),s.addMimeTypes("clkt","application/vnd.crick.clicker.template"),s.addMimeTypes("clkw","application/vnd.crick.clicker.wordbank"),s.addMimeTypes("wbs","application/vnd.criticaltools.wbs+xml"),s.addMimeTypes("pml","application/vnd.ctc-posml"),s.addMimeTypes("ppd","application/vnd.cups-ppd"),s.addMimeTypes("car","application/vnd.curl.car"),s.addMimeTypes("pcurl","application/vnd.curl.pcurl"),s.addMimeTypes("rdz","application/vnd.data-vision.rdz"),s.addMimeTypes("fe_launch","application/vnd.denovo.fcselayout-link"),s.addMimeTypes("dna","application/vnd.dna"),s.addMimeTypes("mlp","application/vnd.dolby.mlp"),s.addMimeTypes("dpg","application/vnd.dpgraph"),s.addMimeTypes("dfac","application/vnd.dreamfactory"),s.addMimeTypes("geo","application/vnd.dynageo"),s.addMimeTypes("mag","application/vnd.ecowin.chart"),s.addMimeTypes("nml","application/vnd.enliven"),s.addMimeTypes("esf","application/vnd.epson.esf"),s.addMimeTypes("msf","application/vnd.epson.msf"),s.addMimeTypes("qam","application/vnd.epson.quickanime"),s.addMimeTypes("slt","application/vnd.epson.salt"),s.addMimeTypes("ssf","application/vnd.epson.ssf"),s.addMimeTypes("es3,et3","application/vnd.eszigno3+xml"),s.addMimeTypes("ez2","application/vnd.ezpix-album"),s.addMimeTypes("ez3","application/vnd.ezpix-package"),s.addMimeTypes("fdf","application/vnd.fdf"),s.addMimeTypes("mseed","application/vnd.fdsn.mseed"),s.addMimeTypes("seed,dataless","application/vnd.fdsn.seed"),s.addMimeTypes("gph","application/vnd.flographit"),s.addMimeTypes("ftc","application/vnd.fluxtime.clip"),s.addMimeTypes("fm,frame,maker,book","application/vnd.framemaker"),s.addMimeTypes("fnc","application/vnd.frogans.fnc"),s.addMimeTypes("ltf","application/vnd.frogans.ltf"),s.addMimeTypes("fsc","application/vnd.fsc.weblaunch"),s.addMimeTypes("oas","application/vnd.fujitsu.oasys"),s.addMimeTypes("oa2","application/vnd.fujitsu.oasys2"),s.addMimeTypes("oa3","application/vnd.fujitsu.oasys3"),s.addMimeTypes("fg5","application/vnd.fujitsu.oasysgp"),s.addMimeTypes("bh2","application/vnd.fujitsu.oasysprs"),s.addMimeTypes("ddd","application/vnd.fujixerox.ddd"),s.addMimeTypes("xdw","application/vnd.fujixerox.docuworks"),s.addMimeTypes("xbd","application/vnd.fujixerox.docuworks.binder"),s.addMimeTypes("fzs","application/vnd.fuzzysheet"),s.addMimeTypes("txd","application/vnd.genomatix.tuxedo"),s.addMimeTypes("ggb","application/vnd.geogebra.file"),s.addMimeTypes("ggt","application/vnd.geogebra.tool"),s.addMimeTypes("gex,gre","application/vnd.geometry-explorer"),s.addMimeTypes("gmx","application/vnd.gmx"),s.addMimeTypes("kml","application/vnd.google-earth.kml+xml"),s.addMimeTypes("kmz","application/vnd.google-earth.kmz"),s.addMimeTypes("gqf,gqs","application/vnd.grafeq"),s.addMimeTypes("gac","application/vnd.groove-account"),s.addMimeTypes("ghf","application/vnd.groove-help"),s.addMimeTypes("gim","application/vnd.groove-identity-message"),s.addMimeTypes("grv","application/vnd.groove-injector"),s.addMimeTypes("gtm","application/vnd.groove-tool-message"),s.addMimeTypes("tpl","application/vnd.groove-tool-template"),s.addMimeTypes("vcg","application/vnd.groove-vcard"),s.addMimeTypes("zmm","application/vnd.handheld-entertainment+xml"),s.addMimeTypes("hbci","application/vnd.hbci"),s.addMimeTypes("les","application/vnd.hhe.lesson-player"),s.addMimeTypes("hpgl","application/vnd.hp-hpgl"),s.addMimeTypes("hpid","application/vnd.hp-hpid"),s.addMimeTypes("hps","application/vnd.hp-hps"),s.addMimeTypes("jlt","application/vnd.hp-jlyt"),s.addMimeTypes("pcl","application/vnd.hp-pcl"),s.addMimeTypes("pclxl","application/vnd.hp-pclxl"),s.addMimeTypes("sfd-hdstx","application/vnd.hydrostatix.sof-data"),s.addMimeTypes("x3d","application/vnd.hzn-3d-crossword"),s.addMimeTypes("mpy","application/vnd.ibm.minipay"),s.addMimeTypes("afp,listafp,list3820","application/vnd.ibm.modcap"),s.addMimeTypes("irm","application/vnd.ibm.rights-management"),s.addMimeTypes("sc","application/vnd.ibm.secure-container"),s.addMimeTypes("icc,icm","application/vnd.iccprofile"),s.addMimeTypes("igl","application/vnd.igloader"),s.addMimeTypes("ivp","application/vnd.immervision-ivp"),s.addMimeTypes("ivu","application/vnd.immervision-ivu"),s.addMimeTypes("xpw,xpx","application/vnd.intercon.formnet"),s.addMimeTypes("qbo","application/vnd.intu.qbo"),s.addMimeTypes("qfx","application/vnd.intu.qfx"),s.addMimeTypes("rcprofile","application/vnd.ipunplugged.rcprofile"),s.addMimeTypes("irp","application/vnd.irepository.package+xml"),s.addMimeTypes("xpr","application/vnd.is-xpr"),s.addMimeTypes("jam","application/vnd.jam"),s.addMimeTypes("rms","application/vnd.jcp.javame.midlet-rms"),s.addMimeTypes("jisp","application/vnd.jisp"),s.addMimeTypes("joda","application/vnd.joost.joda-archive"),s.addMimeTypes("ktz,ktr","application/vnd.kahootz"),s.addMimeTypes("karbon","application/vnd.kde.karbon"),s.addMimeTypes("chrt","application/vnd.kde.kchart"),s.addMimeTypes("kfo","application/vnd.kde.kformula"),s.addMimeTypes("flw","application/vnd.kde.kivio"),s.addMimeTypes("kon","application/vnd.kde.kontour"),s.addMimeTypes("kpr,kpt","application/vnd.kde.kpresenter"),s.addMimeTypes("ksp","application/vnd.kde.kspread"),s.addMimeTypes("kwd,kwt","application/vnd.kde.kword"),s.addMimeTypes("htke","application/vnd.kenameaapp"),s.addMimeTypes("kia","application/vnd.kidspiration"),s.addMimeTypes("kne,knp","application/vnd.kinar"),s.addMimeTypes("skp,skd,skt,skm","application/vnd.koan"),s.addMimeTypes("sse","application/vnd.kodak-descriptor"),s.addMimeTypes("lbd","application/vnd.llamagraphics.life-balance.desktop"),s.addMimeTypes("lbe","application/vnd.llamagraphics.life-balance.exchange+xml"),s.addMimeTypes("123","application/vnd.lotus-1-2-3"),s.addMimeTypes("apr","application/vnd.lotus-approach"),s.addMimeTypes("pre","application/vnd.lotus-freelance"),s.addMimeTypes("nsf","application/vnd.lotus-notes"),s.addMimeTypes("org","application/vnd.lotus-organizer"),s.addMimeTypes("scm","application/vnd.lotus-screencam"),s.addMimeTypes("lwp","application/vnd.lotus-wordpro"),s.addMimeTypes("portpkg","application/vnd.macports.portpkg"),s.addMimeTypes("mcd","application/vnd.mcd"),s.addMimeTypes("mc1","application/vnd.medcalcdata"),s.addMimeTypes("cdkey","application/vnd.mediastation.cdkey"),s.addMimeTypes("mwf","application/vnd.mfer"),s.addMimeTypes("mfm","application/vnd.mfmp"),s.addMimeTypes("flo","application/vnd.micrografx.flo"),s.addMimeTypes("igx","application/vnd.micrografx.igx"),s.addMimeTypes("mif","application/vnd.mif"),s.addMimeTypes("daf","application/vnd.mobius.daf"),s.addMimeTypes("dis","application/vnd.mobius.dis"),s.addMimeTypes("mbk","application/vnd.mobius.mbk"),s.addMimeTypes("mqy","application/vnd.mobius.mqy"),s.addMimeTypes("msl","application/vnd.mobius.msl"),s.addMimeTypes("plc","application/vnd.mobius.plc"),s.addMimeTypes("txf","application/vnd.mobius.txf"),s.addMimeTypes("mpn","application/vnd.mophun.application"),s.addMimeTypes("mpc","application/vnd.mophun.certificate"),s.addMimeTypes("xul","application/vnd.mozilla.xul+xml"),s.addMimeTypes("cil","application/vnd.ms-artgalry"),s.addMimeTypes("cab","application/vnd.ms-cab-compressed"),s.addMimeTypes("xls,xlm,xla,xlc,xlt,xlw","application/vnd.ms-excel"),s.addMimeTypes("xlam","application/vnd.ms-excel.addin.macroenabled.12"),s.addMimeTypes("xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"),s.addMimeTypes("xlsm","application/vnd.ms-excel.sheet.macroenabled.12"),s.addMimeTypes("xltm","application/vnd.ms-excel.template.macroenabled.12"),s.addMimeTypes("eot","application/vnd.ms-fontobject"),s.addMimeTypes("chm","application/vnd.ms-htmlhelp"),s.addMimeTypes("ims","application/vnd.ms-ims"),s.addMimeTypes("lrm","application/vnd.ms-lrm"),s.addMimeTypes("cat","application/vnd.ms-pki.seccat"),s.addMimeTypes("stl","application/vnd.ms-pki.stl"),s.addMimeTypes("ppt,pps,pot","application/vnd.ms-powerpoint"),s.addMimeTypes("ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"),s.addMimeTypes("pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"),s.addMimeTypes("sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"),s.addMimeTypes("ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"),s.addMimeTypes("potm","application/vnd.ms-powerpoint.template.macroenabled.12"),s.addMimeTypes("mpp,mpt","application/vnd.ms-project"),s.addMimeTypes("docm","application/vnd.ms-word.document.macroenabled.12"),s.addMimeTypes("dotm","application/vnd.ms-word.template.macroenabled.12"),s.addMimeTypes("wps,wks,wcm,wdb","application/vnd.ms-works"),s.addMimeTypes("wpl","application/vnd.ms-wpl"),s.addMimeTypes("xps","application/vnd.ms-xpsdocument"),s.addMimeTypes("mseq","application/vnd.mseq"),s.addMimeTypes("mus","application/vnd.musician"),s.addMimeTypes("msty","application/vnd.muvee.style"),s.addMimeTypes("nlu","application/vnd.neurolanguage.nlu"),s.addMimeTypes("nnd","application/vnd.noblenet-directory"),s.addMimeTypes("nns","application/vnd.noblenet-sealer"),s.addMimeTypes("nnw","application/vnd.noblenet-web"),s.addMimeTypes("ngdat","application/vnd.nokia.n-gage.data"),s.addMimeTypes("n-gage","application/vnd.nokia.n-gage.symbian.install"),s.addMimeTypes("rpst","application/vnd.nokia.radio-preset"),s.addMimeTypes("rpss","application/vnd.nokia.radio-presets"),s.addMimeTypes("edm","application/vnd.novadigm.edm"),s.addMimeTypes("edx","application/vnd.novadigm.edx"),s.addMimeTypes("ext","application/vnd.novadigm.ext"),s.addMimeTypes("odc","application/vnd.oasis.opendocument.chart"),s.addMimeTypes("otc","application/vnd.oasis.opendocument.chart-template"),s.addMimeTypes("odb","application/vnd.oasis.opendocument.database"),s.addMimeTypes("odf","application/vnd.oasis.opendocument.formula"),s.addMimeTypes("odft","application/vnd.oasis.opendocument.formula-template"),s.addMimeTypes("odg","application/vnd.oasis.opendocument.graphics"),s.addMimeTypes("otg","application/vnd.oasis.opendocument.graphics-template"),s.addMimeTypes("odi","application/vnd.oasis.opendocument.image"),s.addMimeTypes("oti","application/vnd.oasis.opendocument.image-template"),s.addMimeTypes("odp","application/vnd.oasis.opendocument.presentation"),s.addMimeTypes("ots","application/vnd.oasis.opendocument.spreadsheet-template"),s.addMimeTypes("otm","application/vnd.oasis.opendocument.text-master"),s.addMimeTypes("ott","application/vnd.oasis.opendocument.text-template"),s.addMimeTypes("oth","application/vnd.oasis.opendocument.text-web"),s.addMimeTypes("xo","application/vnd.olpc-sugar"),s.addMimeTypes("dd2","application/vnd.oma.dd2+xml"),s.addMimeTypes("oxt","application/vnd.openofficeorg.extension"),s.addMimeTypes("pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"),s.addMimeTypes("sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"),s.addMimeTypes("ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"),s.addMimeTypes("potx","application/vnd.openxmlformats-officedocument.presentationml.template"),s.addMimeTypes("dp","application/vnd.osgi.dp"),s.addMimeTypes("pdb,pqa,oprc","application/vnd.palm"),s.addMimeTypes("str","application/vnd.pg.format"),s.addMimeTypes("ei6","application/vnd.pg.osasli"),s.addMimeTypes("efif","application/vnd.picsel"),s.addMimeTypes("plf","application/vnd.pocketlearn"),s.addMimeTypes("pbd","application/vnd.powerbuilder6"),s.addMimeTypes("box","application/vnd.previewsystems.box"),s.addMimeTypes("mgz","application/vnd.proteus.magazine"),s.addMimeTypes("qps","application/vnd.publishare-delta-tree"),s.addMimeTypes("ptid","application/vnd.pvi.ptid1"),s.addMimeTypes("qxd,qxt,qwd,qwt,qxl,qxb","application/vnd.quark.quarkxpress"),s.addMimeTypes("mxl","application/vnd.recordare.musicxml"),s.addMimeTypes("musicxml","application/vnd.recordare.musicxml+xml"),s.addMimeTypes("cod","application/vnd.rim.cod"),s.addMimeTypes("rm","application/vnd.rn-realmedia"),s.addMimeTypes("link66","application/vnd.route66.link66+xml"),s.addMimeTypes("see","application/vnd.seemail"),s.addMimeTypes("sema","application/vnd.sema"),s.addMimeTypes("semd","application/vnd.semd"),s.addMimeTypes("semf","application/vnd.semf"),s.addMimeTypes("ifm","application/vnd.shana.informed.formdata"),s.addMimeTypes("itp","application/vnd.shana.informed.formtemplate"),s.addMimeTypes("iif","application/vnd.shana.informed.interchange"),s.addMimeTypes("ipk","application/vnd.shana.informed.package"),s.addMimeTypes("twd,twds","application/vnd.simtech-mindmapper"),s.addMimeTypes("mmf","application/vnd.smaf"),s.addMimeTypes("teacher","application/vnd.smart.teacher"),s.addMimeTypes("sdkm,sdkd","application/vnd.solent.sdkm+xml"),s.addMimeTypes("dxp","application/vnd.spotfire.dxp"),s.addMimeTypes("sfs","application/vnd.spotfire.sfs"),s.addMimeTypes("sdc","application/vnd.stardivision.calc"),s.addMimeTypes("sda","application/vnd.stardivision.draw"),s.addMimeTypes("sdd","application/vnd.stardivision.impress"),s.addMimeTypes("smf","application/vnd.stardivision.math"),s.addMimeTypes("sdw","application/vnd.stardivision.writer"),s.addMimeTypes("vor","application/vnd.stardivision.writer"),s.addMimeTypes("sgl","application/vnd.stardivision.writer-global"),s.addMimeTypes("sxc","application/vnd.sun.xml.calc"),s.addMimeTypes("stc","application/vnd.sun.xml.calc.template"),s.addMimeTypes("sxd","application/vnd.sun.xml.draw"),s.addMimeTypes("std","application/vnd.sun.xml.draw.template"),s.addMimeTypes("sxi","application/vnd.sun.xml.impress"),s.addMimeTypes("sti","application/vnd.sun.xml.impress.template"),s.addMimeTypes("sxm","application/vnd.sun.xml.math"),s.addMimeTypes("sxw","application/vnd.sun.xml.writer"),s.addMimeTypes("sxg","application/vnd.sun.xml.writer.global"),s.addMimeTypes("stw","application/vnd.sun.xml.writer.template"),s.addMimeTypes("sus,susp","application/vnd.sus-calendar"),s.addMimeTypes("svd","application/vnd.svd"),s.addMimeTypes("sis,sisx","application/vnd.symbian.install"),s.addMimeTypes("xsm","application/vnd.syncml+xml"),s.addMimeTypes("bdm","application/vnd.syncml.dm+wbxml"),s.addMimeTypes("xdm","application/vnd.syncml.dm+xml"),s.addMimeTypes("tao","application/vnd.tao.intent-module-archive"),s.addMimeTypes("tmo","application/vnd.tmobile-livetv"),s.addMimeTypes("tpt","application/vnd.trid.tpt"),s.addMimeTypes("mxs","application/vnd.triscape.mxs"),s.addMimeTypes("tra","application/vnd.trueapp"),s.addMimeTypes("ufd,ufdl","application/vnd.ufdl"),s.addMimeTypes("utz","application/vnd.uiq.theme"),s.addMimeTypes("umj","application/vnd.umajin"),s.addMimeTypes("unityweb","application/vnd.unity"),s.addMimeTypes("uoml","application/vnd.uoml+xml"),s.addMimeTypes("vcx","application/vnd.vcx"),s.addMimeTypes("vsd,vst,vss,vsw","application/vnd.visio"),s.addMimeTypes("vis","application/vnd.visionary"),s.addMimeTypes("vsf","application/vnd.vsf"),s.addMimeTypes("wbxml","application/vnd.wap.wbxml"),s.addMimeTypes("wmlc","application/vnd.wap.wmlc"),s.addMimeTypes("wmlsc","application/vnd.wap.wmlscriptc"),s.addMimeTypes("wtb","application/vnd.webturbo"),s.addMimeTypes("wpd","application/vnd.wordperfect"),s.addMimeTypes("wqd","application/vnd.wqd"),s.addMimeTypes("stf","application/vnd.wt.stf"),s.addMimeTypes("xar","application/vnd.xara"),s.addMimeTypes("xfdl","application/vnd.xfdl"),s.addMimeTypes("hvd","application/vnd.yamaha.hv-dic"),s.addMimeTypes("hvs","application/vnd.yamaha.hv-script"),s.addMimeTypes("hvp","application/vnd.yamaha.hv-voice"),s.addMimeTypes("osf","application/vnd.yamaha.openscoreformat"),s.addMimeTypes("osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"),s.addMimeTypes("saf","application/vnd.yamaha.smaf-audio"),s.addMimeTypes("spf","application/vnd.yamaha.smaf-phrase"),s.addMimeTypes("cmp","application/vnd.yellowriver-custom-menu"),s.addMimeTypes("zir,zirz","application/vnd.zul"),s.addMimeTypes("zaz","application/vnd.zzazz.deck+xml"),s.addMimeTypes("vxml","application/voicexml+xml"),s.addMimeTypes("hlp","application/winhlp"),s.addMimeTypes("wsdl","application/wsdl+xml"),s.addMimeTypes("wspolicy","application/wspolicy+xml"),s.addMimeTypes("abw","application/x-abiword"),s.addMimeTypes("ace","application/x-ace-compressed"),s.addMimeTypes("aab,x32,u32,vox","application/x-authorware-bin"),s.addMimeTypes("aam","application/x-authorware-map"),s.addMimeTypes("aas","application/x-authorware-seg"),s.addMimeTypes("torrent","application/x-bittorrent"),s.addMimeTypes("bz","application/x-bzip"),s.addMimeTypes("bz2,boz","application/x-bzip2"),s.addMimeTypes("vcd","application/x-cdlink"),s.addMimeTypes("chat","application/x-chat"),s.addMimeTypes("pgn","application/x-chess-pgn"),s.addMimeTypes("bdf","application/x-font-bdf"),s.addMimeTypes("gsf","application/x-font-ghostscript"),s.addMimeTypes("psf","application/x-font-linux-psf"),s.addMimeTypes("otf","application/x-font-otf"),s.addMimeTypes("pcf","application/x-font-pcf"),s.addMimeTypes("snf","application/x-font-snf"),s.addMimeTypes("ttf,ttc","application/x-font-ttf"),s.addMimeTypes("pfa,pfb,pfm,afm","application/x-font-type1"),s.addMimeTypes("spl","application/x-futuresplash"),s.addMimeTypes("gnumeric","application/x-gnumeric"),s.addMimeTypes("deb,udeb","application/x-debian-package"),s.addMimeTypes("dir,dcr,dxr,cst,cct,cxt,w3d,fgd,swa","application/x-director"),s.addMimeTypes("wad","application/x-doom"),s.addMimeTypes("ncx","application/x-dtbncx+xml"),s.addMimeTypes("dtb","application/x-dtbook+xml"),s.addMimeTypes("res","application/x-dtbresource+xml"),s.addMimeTypes("prc,mobi","application/x-mobipocket-ebook"),s.addMimeTypes("application","application/x-ms-application"),s.addMimeTypes("wmd","application/x-ms-wmd"),s.addMimeTypes("wmz","application/x-ms-wmz"),s.addMimeTypes("xbap","application/x-ms-xbap"),s.addMimeTypes("mdb","application/x-msaccess"),s.addMimeTypes("obd","application/x-msbinder"),s.addMimeTypes("crd","application/x-mscardfile"),s.addMimeTypes("clp","application/x-msclip"),s.addMimeTypes("exe,dll,com,bat,msi","application/x-msdownload"),s.addMimeTypes("mvb,m13,m14","application/x-msmediaview"),s.addMimeTypes("wmf","application/x-msmetafile"),s.addMimeTypes("mny","application/x-msmoney"),s.addMimeTypes("pub","application/x-mspublisher"),s.addMimeTypes("scd","application/x-msschedule"),s.addMimeTypes("trm","application/x-msterminal"),s.addMimeTypes("wri","application/x-mswrite"),s.addMimeTypes("nc,cdf","application/x-netcdf"),s.addMimeTypes("p12,pfx","application/x-pkcs12"),s.addMimeTypes("p7b,spc","application/x-pkcs7-certificates"),s.addMimeTypes("p7r","application/x-pkcs7-certreqresp"),s.addMimeTypes("rar","application/x-rar-compressed"),s.addMimeTypes("src","application/x-wais-source"),s.addMimeTypes("der,crt","application/x-x509-ca-cert"),s.addMimeTypes("fig","application/x-xfig"),s.addMimeTypes("xpi","application/x-xpinstall"),s.addMimeTypes("xenc","application/xenc+xml"),s.addMimeTypes("xhtml,xht","application/xhtml+xml"),s.addMimeTypes("xml,xsl","application/xml"),s.addMimeTypes("dtd","application/xml-dtd"),s.addMimeTypes("xop","application/xop+xml"),s.addMimeTypes("xslt","application/xslt+xml"),s.addMimeTypes("xspf","application/xspf+xml"),s.addMimeTypes("mxml,xhvml,xvml,xvm","application/xv+xml"),s.addMimeTypes("zip","application/zip"),s.addMimeTypes("adp","audio/adpcm"),s.addMimeTypes("au,snd","audio/basic"),s.addMimeTypes("mid,midi,kar,rmi","audio/midi"),s.addMimeTypes("mp4a","audio/mp4"),s.addMimeTypes("m4a,m4p","audio/mp4a-latm"),s.addMimeTypes("mpga,mp2,mp2a,mp3,m2a,m3a","audio/mpeg"),s.addMimeTypes("oga,ogg,spx","audio/ogg"),s.addMimeTypes("eol","audio/vnd.digital-winds"),s.addMimeTypes("dts","audio/vnd.dts"),s.addMimeTypes("dtshd","audio/vnd.dts.hd"),s.addMimeTypes("lvp","audio/vnd.lucent.voice"),s.addMimeTypes("pya","audio/vnd.ms-playready.media.pya"),s.addMimeTypes("ecelp4800","audio/vnd.nuera.ecelp4800"),s.addMimeTypes("ecelp7470","audio/vnd.nuera.ecelp7470"),s.addMimeTypes("ecelp9600","audio/vnd.nuera.ecelp9600"),s.addMimeTypes("aac","audio/x-aac"),s.addMimeTypes("aif,aiff,aifc","audio/x-aiff"),s.addMimeTypes("m3u","audio/x-mpegurl"),s.addMimeTypes("wax","audio/x-ms-wax"),s.addMimeTypes("wma","audio/x-ms-wma"),s.addMimeTypes("ram,ra","audio/x-pn-realaudio"),s.addMimeTypes("rmp","audio/x-pn-realaudio-plugin"),s.addMimeTypes("vsd","application/x-visio"),s.addMimeTypes("vxml","application/voicexml+xml"),s.addMimeTypes("wav","audio/x-wav"),s.addMimeTypes("cdx","chemical/x-cdx"),s.addMimeTypes("cif","chemical/x-cif"),s.addMimeTypes("cmdf","chemical/x-cmdf"),s.addMimeTypes("cml","chemical/x-cml"),s.addMimeTypes("csml","chemical/x-csml"),s.addMimeTypes("xyz","chemical/x-xyz"),s.addMimeTypes("bmp","image/bmp"),s.addMimeTypes("cgm","image/cgm"),s.addMimeTypes("g3","image/g3fax"),s.addMimeTypes("gif","image/gif"),s.addMimeTypes("ief","image/ief"),s.addMimeTypes("jp2","image/jp2"),s.addMimeTypes("pict,pic,pct","image/pict"),s.addMimeTypes("png","image/png"),s.addMimeTypes("btif","image/prs.btif"),s.addMimeTypes("svg,svgz","image/svg+xml"),s.addMimeTypes("tiff,tif","image/tiff"),s.addMimeTypes("psd","image/vnd.adobe.photoshop"),s.addMimeTypes("djvu,djv","image/vnd.djvu"),s.addMimeTypes("dwg","image/vnd.dwg"),s.addMimeTypes("dxf","image/vnd.dxf"),s.addMimeTypes("fbs","image/vnd.fastbidsheet"),s.addMimeTypes("fpx","image/vnd.fpx"),s.addMimeTypes("fst","image/vnd.fst"),s.addMimeTypes("mmr","image/vnd.fujixerox.edmics-mmr"),s.addMimeTypes("rlc","image/vnd.fujixerox.edmics-rlc"),s.addMimeTypes("mdi","image/vnd.ms-modi"),s.addMimeTypes("npx","image/vnd.net-fpx"),s.addMimeTypes("wbmp","image/vnd.wap.wbmp"),s.addMimeTypes("xif","image/vnd.xiff"),s.addMimeTypes("ras","image/x-cmu-raster"),s.addMimeTypes("cmx","image/x-cmx"),s.addMimeTypes("fh,fhc,fh4,fh5,fh7","image/x-freehand"),s.addMimeTypes("ico","image/x-icon"),s.addMimeTypes("pntg,pnt,mac","image/x-macpaint"),s.addMimeTypes("pcx","image/x-pcx"),s.addMimeTypes("pnm","image/x-portable-anymap"),s.addMimeTypes("pbm","image/x-portable-bitmap"),s.addMimeTypes("pgm","image/x-portable-graymap"),s.addMimeTypes("ppm","image/x-portable-pixmap"),s.addMimeTypes("qtif,qti","image/x-quicktime"),s.addMimeTypes("rgb","image/x-rgb"),s.addMimeTypes("xbm","image/x-xbitmap"),s.addMimeTypes("xpm","image/x-xpixmap"),s.addMimeTypes("xwd","image/x-xwindowdump"),s.addMimeTypes("eml,mime","message/rfc822"),s.addMimeTypes("igs,iges","model/iges"),s.addMimeTypes("msh,mesh,silo","model/mesh"),s.addMimeTypes("dwf","model/vnd.dwf"),s.addMimeTypes("gdl","model/vnd.gdl"),s.addMimeTypes("gtw","model/vnd.gtw"),s.addMimeTypes("mts","model/vnd.mts"),s.addMimeTypes("vtu","model/vnd.vtu"),s.addMimeTypes("wrl,vrml","model/vrml"),s.addMimeTypes("ics,ifb","text/calendar"),s.addMimeTypes("css","text/css"),s.addMimeTypes("csv","text/csv"),s.addMimeTypes("html,htm","text/html"),s.addMimeTypes("txt,text,conf,def,list,log,in","text/plain"),s.addMimeTypes("dsc","text/prs.lines.tag"),s.addMimeTypes("rtx","text/richtext"),s.addMimeTypes("sgml,sgm","text/sgml"),s.addMimeTypes("tsv","text/tab-separated-values"),s.addMimeTypes("t,tr,roff,man,me,ms","text/troff"),s.addMimeTypes("uri,uris,urls","text/uri-list"),s.addMimeTypes("curl","text/vnd.curl"),s.addMimeTypes("dcurl","text/vnd.curl.dcurl"),s.addMimeTypes("scurl","text/vnd.curl.scurl"),s.addMimeTypes("mcurl","text/vnd.curl.mcurl"),s.addMimeTypes("fly","text/vnd.fly"),s.addMimeTypes("flx","text/vnd.fmi.flexstor"),s.addMimeTypes("gv","text/vnd.graphviz"),s.addMimeTypes("3dml","text/vnd.in3d.3dml"),s.addMimeTypes("spot","text/vnd.in3d.spot"),s.addMimeTypes("jad","text/vnd.sun.j2me.app-descriptor"),s.addMimeTypes("s,asm","text/x-asm"),s.addMimeTypes("c,cc,cxx,cpp,h,hh,dic","text/x-c"),s.addMimeTypes("f,for,f77,f90","text/x-fortran"),s.addMimeTypes("p,pas","text/x-pascal"),s.addMimeTypes("java","text/x-java-source"),s.addMimeTypes("etx","text/x-setext"),s.addMimeTypes("uu","text/x-uuencode"),s.addMimeTypes("vcs","text/x-vcalendar"),s.addMimeTypes("vcf","text/x-vcard"),s.addMimeTypes("3gp","video/3gpp"),s.addMimeTypes("3g2","video/3gpp2"),s.addMimeTypes("h261","video/h261"),s.addMimeTypes("h263","video/h263"),s.addMimeTypes("h264","video/h264"),s.addMimeTypes("jpgv","video/jpeg"),s.addMimeTypes("jpm,jpgm","video/jpm"),s.addMimeTypes("mj2,mjp2","video/mj2"),s.addMimeTypes("mp4,mp4v,mpg4,m4v","video/mp4"),s.addMimeTypes("mpeg,mpg,mpe,m1v,m2v","video/mpeg"),s.addMimeTypes("ogv","video/ogg"),s.addMimeTypes("qt,mov","video/quicktime"),s.addMimeTypes("fvt","video/vnd.fvt"),s.addMimeTypes("mxu,m4u","video/vnd.mpegurl"),s.addMimeTypes("pyv","video/vnd.ms-playready.media.pyv"),s.addMimeTypes("viv","video/vnd.vivo"),s.addMimeTypes("dv,dif","video/x-dv"),s.addMimeTypes("f4v","video/x-f4v"),s.addMimeTypes("fli","video/x-fli"),s.addMimeTypes("flv","video/x-flv"),s.addMimeTypes("asf,asx","video/x-ms-asf"),s.addMimeTypes("wm","video/x-ms-wm"),s.addMimeTypes("wmx","video/x-ms-wmx"),s.addMimeTypes("wvx","video/x-ms-wvx"),s.addMimeTypes("avi","video/x-msvideo"),s.addMimeTypes("movie","video/x-sgi-movie"),s.addMimeTypes("ice","x-conference/x-cooltalk")}function o(e,n){p===d.NONE?(t(),p=d.INITIAL_LOAD):p===d.INITIAL_LOAD&&(l[n]||r[e]||(a(),p=d.FULLY_LOADED))}var s,l={},r={},d={NONE:0,INITIAL_LOAD:1,FULLY_LOADED:2},p=d.NONE;s={lookupByFileEnding:function(e){return o(null,e),l[e]},fileEndingbyMIME:function(e){return o(e,null),r[e]},addMimeTypes:function(e,n){var i=e.split(",");i.forEach(function(e){l[e]=n,r[n]||(r[n]=[]),r[n].push(e)})}},i.exports=s}),define("wp2/lib/utils",["require","exports","module","./mimeTypes","./mimeTypes"],function(e,n,i){var t,a;t={inNode:function(){return!!e.resolve},getQnxNamespace:function(){return t.inNode()?null:qnx},base64Encode:function(e){return window.btoa(window.unescape(window.encodeURIComponent(e)))},base64Decode:function(e){return window.decodeURIComponent(window.escape(window.atob(e)))},copy:function(e){var n,i=e?e.isArray?[]:{}:!1;if("number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||void 0===e)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return RegExp(e);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]&&"object"==typeof e[n]?e[n]instanceof Date?e[n]:t.copy(e[n]):e[n]);return i},parseURI:function(e){var n,i={},t=["source","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],a=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);for(n=t.length-1;n>=0;n--)i[t[n]]=a[n]||"";return i},isLocalURI:function(e){return e&&e.scheme&&-1!=="local:///".indexOf(e.scheme.toLowerCase())},isFileURI:function(e){return e&&e.scheme&&-1!=="file://".indexOf(e.scheme.toLowerCase())
},isHttpURI:function(e){return e&&e.scheme&&-1!=="http://".indexOf(e.scheme.toLowerCase())},isHttpsURI:function(e){return e&&e.scheme&&-1!=="https://".indexOf(e.scheme.toLowerCase())},isDataURI:function(e){return e&&e.scheme&&-1!=="data:".indexOf(e.scheme.toLowerCase())},isTelURI:function(e){return e&&e.scheme&&-1!=="tel:".indexOf(e.scheme.toLowerCase())},isLocalUrl:function(e){return e&&-1!==e.indexOf("local:///")?!0:!1},isDataUrl:function(e){return e&&"data:"===e.substring(0,5)?!0:void 0},startsWith:function(e,n){return 0===e.indexOf(n)},fileNameToMIME:function(n){var i=n.split(".").pop();return a||(a=e("./mimeTypes")),a.lookupByFileEnding(i)},fileEndingByMIME:function(n){return a||(a=e("./mimeTypes")),a.fileEndingbyMIME(n)},series:function(e,n){var i=function(){var t,a=[];e.length?(t=e.shift(),a=a.concat(t.args).concat(i),t.func.apply(this,a)):n.func.apply(this,n.args)};i()},language:function(){return navigator.language},i18n:function(){var e={translate:function(e){return{fetch:function(){return e}}},format:function(e){return{fetch:function(){return e}}},reset:function(){}};return wp.i18n?wp.i18n:e},mixin:function(e,n){return Object.getOwnPropertyNames(e).forEach(function(i){Object.hasOwnProperty.call(e,i)&&Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))}),n},translatePath:function(e){var n=wp.getApplication().getEnv("HOME");return t.isLocalUrl(e)&&(e="file:///"+n.replace(/^\/*/,"")+"/../app/native/"+e.replace(/local:\/\/\//,"")),e},downloadFile:function(e,n,i,a,o){var s,l=e.replace(/^.*[\\\/]/,""),r=t.fileNameToMIME(l);r?r.length>1&&r.isArray&&(r=r[0]):r="text/plain","object"==typeof n&&(n=n[0]),o!==void 0&&(r=o.mimeType?o.mimeType:r,l=o.fileName?o.fileName:l),window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,e=t.translatePath(e),s=new XMLHttpRequest,s.open("GET",e,!0),s.responseType="blob",s.onload=function(){window.requestFileSystem(window.TEMPORARY,1048576,function(e){e.root.getFile(n,{create:!0},function(e){e.createWriter(function(e){e.onerror=function(){console.log("Could not properly write "+l)};var t=new Blob([s.response],{type:r});e.write(t),i&&i("file:///"+n.replace(/^\/*/,""))},a)},a)},a)},s.send()}},i.exports=t}),define("wp2/lib/cards/capture",["require","exports","module","../utils"],function(e,n,i){var t=e("../utils");i.exports={MODE_PHOTO:"photo",MODE_VIDEO:"video",MODE_FULL:"full",open:function(e,n,i,a){var o=function(e){wp.core.invocation.un("childCardClosed",o),"save"===e.reason?"function"==typeof n&&n(e.data):("done"===e.reason||"close"===e.reason)&&"function"==typeof i&&i(e.reason)};wp.core.invocation.on("childCardClosed",o),wp.core.invocation.invoke({action:"bb.action.CAPTURE",target:"sys.camera.card",data:t.base64Encode(e)},function(e){a(e)})}}}),define("core/lib/pps/pps",["require","exports","module","../error"],function(e,n,i){function t(){var e=o++;return window.isFinite(e)||(o=0,e=0),e}var a,o=0,s={};a={PPSMode:{FULL:0,DELTA:1,SERVER:2,RAW:3},FileMode:{RDONLY:0,WRONLY:1,RDWR:2,CREATE:256},create:function(e,n){function i(){return s.hasOwnProperty(c)}function a(){delete s[c]}function o(e,n){var i=JSON.parse(qnx.callExtensionMethod("pps.open",c,u,m,e,n));return i.result?(s[c]=this,d=i.data,!0):!1}function l(e){return i()?"true"===qnx.callExtensionMethod("pps.write",c,JSON.stringify(e)):!1}function r(){i()&&qnx.callExtensionMethod("pps.close",c)}var d,p,c=t(),u=e,m=n;return p={open:o,write:l,close:r,onFirstReadComplete:void 0,onNewData:void 0,onOpenFailed:function(e){console.log("PPS Connection - open failed: "+e)},onWriteFailed:function(e){console.log("PPS Connection - write failed: "+e)},onClosed:a},p.__defineGetter__("mode",function(){return n}),p.__defineGetter__("data",function(){return d}),p.__defineGetter__("path",function(){return u}),p},onEvent:function(e,n,i){if(n&&s.hasOwnProperty(e)){var t=s[e],a="on"+n;t.hasOwnProperty(a)&&t[a]&&(("FirstReadComplete"===n||"NewData"===n)&&(i=JSON.parse(i),t._data=i),t[a](i))}}},e("../error").wrapAll(a,"pps."),i.exports=a}),define("core/lib/pps/jpps",["require","exports","module"],function(e,n,i){var t,a="libjpps",o=a+".PPS";t={create:function(){var e={m_strObjId:null,ppsObj:{}};return JNEXT.require(a)?(e.m_strObjId=JNEXT.createObject(o),""===e.m_strObjId?(console.error('JNext could not create the native PPS object "'+o+'". PPS is unavailable.'),!1):(e.open=function(n,i,t){var a=n+" "+i+(t?" "+t:""),o=JNEXT.invoke(e.m_strObjId,"Open",a),s=o.split(" ");return"Ok"!==s[0]?(console.error(o),!1):!0},e.read=function(){var n,i=JNEXT.invoke(e.m_strObjId,"Read"),t=i.split(" ");return"Ok"!==t[0]?(console.error(i),!1):(n=i.substr(t[0].length+1),e.ppsObj=JSON.parse(n),!0)},e.write=function(n){var i=JSON.stringify(n),t=JNEXT.invoke(e.m_strObjId,"Write",i),a=t.split(" ");return"Ok"!==a[0]?(console.error(t),!1):!0},e.close=function(){var n=JNEXT.invoke(e.m_strObjId,"Close");n=JNEXT.invoke(e.m_strObjId,"Dispose"),JNEXT.unregisterEvents(e)},e.getId=function(){return e.m_strObjId},e.onEvent=function(n){var i,t,a=n.split(" "),o=a[0];switch(o){case"Error":e.onError();break;case"OnChange":i=n.substr(o.length+1),t=JSON.parse(i),e.ppsObj=t.allData,e.ppsData={},e.ppsData[t.changeData.objName]=t.allData,null!==e.onChange&&e.onChange(t.changeData)}},e.onError=function(){console.error("PPS onError() handler.")},JNEXT.registerEvents(e),e)):(console.error('Unable to load "'+a+'". PPS is unavailable.'),!1)}},i.exports=t}),define("core/lib/pps/ppsUtils",["require","exports","module","./pps","./jpps"],function(e,n,i){var t,a=e("./pps"),o=e("./jpps");t={PPSMode:{FULL:0,DELTA:1,SERVER:2,RAW:4,WAIT:8},FileMode:{RDONLY:0,WRONLY:1,RDWR:2,CREATE:256},create:function(e,n){var i,s;return n===a.PPSMode.FULL?(i=a.create(e,n),i.onOpenFailed=function(e){i.onError(e)},i.onWriteFailed=function(e){i.onError(e)}):(s=function(){function i(e,n){var i=e,a=[];return n!==t.PPSMode.FULL&&((n|t.PPSMode.DELTA)===n&&a.push("delta"),a.length>=1&&(i+="?"+a.join(","))),i}var a,s,l,r=e.split("/").pop().split("?").shift(),d=i(e,n);return a=o.create(),l={open:function(e,n){var i=a.open(d,e,n);return i&&a.read()&&(s={},s[r]=a.ppsObj,this.onFirstReadComplete&&"function"==typeof this.onFirstReadComplete&&this.onFirstReadComplete(s)),i},write:function(e){return a.write(e)},close:function(){a.close()},onFirstReadComplete:void 0,onNewData:void 0,onClosed:void 0},l.__defineGetter__("mode",function(){return n}),l.__defineGetter__("data",function(){return a.ppsData||s}),l.__defineGetter__("path",function(){return d}),a.onChange=function(e){l.onNewData&&"function"==typeof l.onNewData&&l.onNewData(e)},l},i=s()),i},read:function(e,n){n=n||{};var i,t,o=n.ppsMode||a.PPSMode.FULL,s=n.fileMode||a.FileMode.RDONLY,l=this.create(e,o);if(l?l.open(s)?(l.close(),t=l.data):i="Failed to open PPS object with path "+e+" and with mode "+s:i="Failed to create a PPS object with path "+e+" and with mode "+o,i)throw i;return t},write:function(e,n,i){i=i||{};var o,s=i.ppsMode||a.PPSMode.FULL,l=i.fileMode||a.FileMode.RDWR,r=i.encode?i.encode:!1,d=this.create(n,s);if(d?d.open(l)?(e=r?t.encode(e):e,d.write(e)||(o="Failed to write data to PPS object with path "+n),d.close()):o="Failed to open PPS object with path "+n+" and with mode "+l:o="Failed to create a PPS object with path "+n+" and with mode "+s,o)throw o},encode:function(e){var n,i,t="";for(n in e)t+=n+":",i=e[n],"string"==typeof i?t+=":"+i:"number"==typeof i?t+="n:"+i:"boolean"==typeof i?t+="b:"+i:"object"==typeof i&&(t+="json:"+JSON.stringify(i)),t+="\n";return t},onEvent:a.onEvent},i.exports=t}),define("wp2/lib/cards/file",["require","exports","module","../../../core/lib/pps/ppsUtils","../utils"],function(e,n,i){var t=e("../../../core/lib/pps/ppsUtils"),a=e("../utils");i.exports={MODE_PICKER:"Picker",MODE_SAVER:"Saver",MODE_PICKER_MULTIPLE:"PickerMultiple",MODE_SAVER_MULTIPLE:"SaverMultiple",VIEWER_MODE_LIST:"ListView",VIEWER_MODE_GRID:"GridView",SORT_BY_NAME:"Name",SORT_BY_DATE:"Date",SORT_BY_SUFFIX:"Suffix",SORT_BY_SIZE:"Size",SORT_ORDER_ASCENDING:"Ascending",SORT_ORDER_DESCENDING:"Descending",TYPE_PICTURE:"picture",TYPE_DOCUMENT:"document",TYPE_MUSIC:"music",TYPE_VIDEO:"video",TYPE_OTHER:"other",open:function(e,n,i,o){var s,l,r={Mode:e.mode,Title:e.title,ViewMode:e.viewMode,SortBy:e.sortBy,SortOrder:e.sortOrder,ImageCrop:e.imageCrop,AllowOverwrite:e.allowOverwrite,Type:e.type?e.type.join(","):[],DefaultType:e.defaultType,Filter:e.filter?e.filter.join(";"):[],Directory:e.directory?e.directory.join(","):[],DefaultFileNames:e.defaultSaveFileNames?e.defaultSaveFileNames.join(","):[]};l=function(e){if(wp.core.invocation.un("childCardClosed",l),"save"===e.reason){var t,a=e.data,o=[];"function"==typeof n&&(e&&e.data&&e.data.match("^dat:json")&&(a=e.data.slice(9)),a=JSON.parse(a),a.forEach(function(e){t=e.uri,t.match("^file:///")&&(t=t.slice(7)),t.match("file:")&&(t=""),""!==t&&o.push(t)}),n(o))}else"cancel"===e.reason&&"function"==typeof i&&i(e.reason)},wp.core.invocation.on("childCardClosed",l),s=t.encode(r),wp.core.invocation.invoke({action:"bb.action.OPEN",target:"sys.filepicker.target",data:a.base64Encode(s)},function(e){o(e)})}}}),define("wp2/lib/defaultHandlers/onChooseFile",["require","exports","module","./../cards/capture","./../utils","./../cards/file","./../utils"],function(e,n,i){i.exports={handle:function(n){return function(i,t){var a,o,s,l,r,d,p,c=[],u=[],m=JSON.parse(t);i.returnValue=JSON.stringify({setWait:!0}),"camera"===m.capture||"camcorder"===m.capture?(a=e("./../cards/capture"),l="camera"===m.capture?a.MODE_PHOTO:a.MODE_VIDEO,a.open(l,function(e){n.chooseFileResponse(m.waitHandle,encodeURIComponent(e))},function(){n.chooseFileResponse(m.waitHandle)},function(i){i&&(wp.ui.toast.show(e("./../utils").i18n().translate("Unable to open the camera.").fetch(),{translate:!0}),n.chooseFileResponse(m.waitHandle))})):(o=e("./../cards/file"),m.acceptMIMETypes&&m.acceptMIMETypes.forEach(function(e){"image/*"===e&&-1===c.indexOf(o.TYPE_PICTURE)?c.push(o.TYPE_PICTURE):"video/*"===e&&-1===c.indexOf(o.TYPE_VIDEO)?c.push(o.TYPE_VIDEO):"audio/*"===e&&-1===c.indexOf(o.TYPE_MUSIC)&&c.push(o.TYPE_MUSIC),r=e.split("/"),2===r.length&&"*"!==r[1]&&(d=r[0],p=r[1],"image"===d&&-1===c.indexOf(o.TYPE_PICTURE)?c.push(o.TYPE_PICTURE):"video"===d&&-1===c.indexOf(o.TYPE_VIDEO)?c.push(o.TYPE_VIDEO):"audio"===d&&-1===c.indexOf(o.TYPE_MUSIC)&&c.push(o.TYPE_MUSIC),1===m.acceptMIMETypes.length&&u.push("*."+p))}),s={mode:o.MODE_PICKER,type:c,filter:u},o.open(s,function(e){n.chooseFileResponse(m.waitHandle,encodeURIComponent(e[0]))},function(){n.chooseFileResponse(m.waitHandle)},function(i){i&&(n.chooseFileResponse(m.waitHandle),n&&n.uiWebView&&wp.ui.toast.show(e("./../utils").i18n().translate("Unable to select a file.").fetch(),{translate:!0}))}))}}}}),define("wp2/lib/menuService",["require","exports","module","./../../core/lib/pps/pps"],function(e,n,i){function t(){var e=p++;return window.isFinite(e)||(p=0,e=0),""+e}function a(){for(var e in d)d[e](null,s.MENU_SERVICE_FAILURE_ERROR);d={}}function o(e){var n,i,t,o=e.control;o.hasOwnProperty("res")&&"getMenuItems"===o.res?(n=o.dat?o.dat["inherited-target"]:void 0,i=o.id,t=d[i],delete d[i],t&&t(n,o.dat,o.err)):a()}var s,l,r=e("./../../core/lib/pps/pps"),d={},p=0;s={MENU_SERVICE_FAILURE_ERROR:"MENU_SERVICE_FAILURE_ERROR",getMenuItems:function(e,n){var i;l||(l=r.create("/pps/services/menu/control",r.PPSMode.FULL),l.onNewData=o,l.onFirstReadComplete=function(){console.log("menu.service: First read complete")},l.onReadFailed=a,l.onClosed=a,l.onOpenFailed=a,l.onWriteFailed=a,l.open(r.FileMode.RDWR)),i=t(),n&&(d[i]=n),e["supports-inherited"]=!0,l.write({msg:"getMenuItems",id:i,dat:e})}},i.exports=s}),define("core/plugins/contextmenu/actions",["require","exports","module","./../../../wp2/lib/utils"],function(e,n,i){function t(e){T=e}function a(e){var n=e[0];qnx.callExtensionMethod("webview.handleContextMenuResponse",E,n)}function o(e){var n=e[0];qnx.callExtensionMethod("webview.loadURL",E,n)}function s(){if(T&&T.url){var e=T.url,n=e.substring(e.lastIndexOf("/")+1),i={mode:k.cards.filePicker.MODE_SAVER,allowOverwrite:!0},t={translate:!0};0!==n.length&&(i.defaultSaveFileNames=[n]),k.cards.filePicker.open(i,function(n){n&&I.downloadFile(e,n,function(){S.toast.show(x.translate("File successfully saved.").fetch(),t)},function(){S.toast.show(x.translate("File could not be saved.").fetch(),t)})},null,function(e){e?S.toast.show(x.translate("Unable to select a file.").fetch(),t):console.log("invoke success")})}}function l(){T&&T.url&&o([T.url])}function r(e,n){var i,t="image/png",a="image";return-1!==e.indexOf(";")?t=e.substring(5,e.indexOf(";")):-1!==e.indexOf(",")&&(t=e.substring(5,e.indexOf(","))),i=I.fileEndingByMIME(t),i=i?i[0]:i,(n?n:"")+a+"."+i}function d(){if(T&&T.isImage&&T.src){var e,n=T.src,i={mode:k.cards.filePicker.MODE_SAVER,allowOverwrite:!0,defaultType:k.cards.filePicker.TYPE_PICTURE,defaultSaveFileNames:[n.substring(n.lastIndexOf("/")+1)]},t={translate:!0};I.isDataUrl(n)&&(i.defaultSaveFileNames=[r(n)]),k.cards.filePicker.open(i,function(e){e&&I.downloadFile(n,e,function(){S.toast.show(x.translate("File successfully saved.").fetch(),t)},function(){S.toast.show(x.translate("File could not be saved.").fetch(),t)})},null,function(n){n?(e={dialogType:"JavaScriptAlert",title:"File Picker Error",message:"Could not open file picker."},S.rpc.postMessage("dialog.show",e)):console.log("invoke success")})}}function p(){if(T&&T.isImage&&T.src){var e=T.src,n="/"+k.getEnv("HOME").replace(/^\/*/,"")+"/../tmp/",i=n+e.replace(/^.*[\\\/]/,""),t={action:"bb.action.VIEW",uri:""};I.isDataUrl(e)&&(i=r(e,n)),I.isLocalUrl(e)?(t.uri=e,M.invoke(t,function(e){e&&console.log(e)})):I.downloadFile(e,i,function(e){t.uri=e,M.invoke(t,function(e){e&&console.log(e)})},function(e){console.log(e)})}}function c(e){e&&a([e])}function u(e,n){return e?(P[e]=n,!0):!1}function m(e){P[e]&&delete P[e]}function f(){z={}}function h(){P={}}function v(e){e.actionId&&(z[e.actionId]=e)}function y(e){var n={};wp.ui&&wp.ui.invocationlist&&e.invoke&&(n=e.invoke,n.target||(n.target="sys.invokeTargetSelection"),M.invoke(n))}function g(e,n){P[e]?P[e](e,n):A[e]?A[e](e):-1!==e.indexOf("MenuService-")&&z[e]&&y(z[e])}function w(e){S=e,k=wp.getApplication(),M=wp.core.invocation,x=I.i18n()}function b(e){E=e}var x,T,M,k,S,E,C,_,I=e("./../../../wp2/lib/utils"),A={},P={},z={};A={Cancel:c,ClearField:c,Cut:c,Copy:c,Paste:c,Select:c,SelectAll:c,CopyLink:c,OpenLink:l,SaveLinkAs:s,CopyImageLink:c,SaveImage:d,ViewImage:p,InspectElement:c},_={init:w,setClientWebView:b,handlers:A,addMenuServiceItem:v,clearMenuServiceItems:f,runHandler:g,clearCustomHandlers:h,setCurrentContext:t,addCustomItem:u,removeCustomItem:m},_.__defineSetter__("invocationResults",function(e){C=e}),i.exports=_}),define("core/plugins/contextmenu/api",["require","exports","module","./../../../wp2/lib/menuService","./../../../wp2/lib/utils","./actions"],function(e,n,i){function t(e){if(!e.webWorksContext)return{type:e.webWorksContext};try{return JSON.parse(e.webWorksContext)}catch(n){return console.log("Not a valid WebWorks JSON context. Treating context as a string."),{type:e.webWorksContext}}}function a(e,n){var i,a=[],o=!1,s=[],l=function(e,n){a.push(e),n()};for(i=0;e.length>i;i++)switch(e[i]){case"ClearField":s.push({func:l,args:[{label:O.translate("Clear Field").fetch(),actionId:"ClearField",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"SendLink":break;case"SendImageLink":break;case"FullMenu":break;case"Delete":break;case"Cancel":s.push({func:l,args:[{label:O.translate("Dismiss Selection").fetch(),actionId:"Cancel",icon:"platform:///ui/assets/contextmenu.png",isPinned:!0}]}),o=!0;break;case"Cut":s.push({func:l,args:[{label:O.translate("Cut").fetch(),actionId:"Cut",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"Copy":s.push({func:l,args:[{label:O.translate("Copy").fetch(),actionId:"Copy",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"Paste":s.push({func:l,args:[{label:O.translate("Paste").fetch(),actionId:"Paste",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"SelectAll":s.push({func:l,args:[{label:O.translate("Select All").fetch(),actionId:"SelectAll",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"Select":s.push({func:l,args:[{label:O.translate("Select").fetch(),actionId:"Select",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"AddLinkToBookmarks":break;case"CopyLink":s.push({func:l,args:[{label:O.translate("Copy Link").fetch(),actionId:"CopyLink",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"OpenLinkInNewTab":break;case"OpenLink":break;case"SaveLinkAs":s.push({func:l,args:[{label:O.translate("Save Link As").fetch(),actionId:"SaveLinkAs",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"SaveImage":s.push({func:l,args:[{label:O.translate("Save Image").fetch(),actionId:"SaveImage",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"CopyImageLink":s.push({func:l,args:[{label:O.translate("Copy Image Link").fetch(),actionId:"CopyImageLink",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"ViewImage":s.push({func:l,args:[{label:O.translate("View Image").fetch(),actionId:"ViewImage",icon:"platform:///ui/assets/contextmenu.png"}]});break;case"Search":break;case"ShareLink":break;case"ShareImage":break;case"InspectElement":s.push({func:l,args:[{label:O.translate("Inspect Element").fetch(),actionId:"InspectElement",icon:"platform:///ui/assets/contextmenu.png"}]})}o||s.push({func:l,args:[{label:O.translate("Cancel").fetch(),actionId:"Cancel",icon:"platform:///ui/assets/contextmenu.png",isPinned:!0}]}),L=void 0,D=void 0,P&&(P.isWebWorksContext&&(z=t(P)),z&&(z.header||z.subheader)?(L=z.header,D=z.subheader,z=void 0):P.url?(L=P.text,D=P.url):P.text?D=P.text:P.alt?D=P.alt:P.src&&(D=P.src),L=L||"Selection"),j.series(s,{func:n,args:[a]})}function o(e,n,i){var t,a,o=i.contexts,s=i.action,l=i.handler;if(!s.actionId&&""===s.actionId||"function"!=typeof l)return n("You must provide a valid actionId");F.addCustomItem(s.actionId,l);for(t in o)o.hasOwnProperty(t)&&(a=o[t],$[a]||($[a]={}),$[a][s.actionId]=s);e()}function s(e){var n;for(n in $)$[n][e]&&delete $[n][e]}function l(e,n,i){var t,a,o=i.contexts,l=i.actionId;for(t in o){if(a=o[t],a===G){s(l);break}$[a]&&delete $[a][l]}F.removeCustomItem(l),e()}function r(e,n){e&&n&&(B[e]=n)}function d(e){return e&&e.text}function p(e){return e&&e.isImage}function c(e){return e&&e.isWebWorksContext}function u(e){return e.url&&!e.isImage?K:e.url&&e.isImage?H:e.isImage?Y:e.isInput?Z:e.text?Q:void 0}function m(e,n){var i;return U[e]=U[e]||[],i=-1===U[e].indexOf(n)?U[e].push(n):null,!!i}function f(e,n){var i;return U[e]&&(i=U[e].indexOf(n),-1!==i)?(U[e].splice(i,1),!0):!1}function h(){return U}function v(e,n){var i=u(n),t=U[i]||[];return t=t.concat(U[G]||[]),t.length>0&&(e=e.filter(function(e){return-1!==t.indexOf(e.actionId)?!1:/^MenuService/.test(e.actionId)&&-1!==t.indexOf("MenuService")?!1:!0})),e}function y(e){var n,i=t(P),a={headText:L,subheadText:D},o=function(e){return e.some(function(e){return e&&e.actionId&&"Cancel"!==e.actionId})};B[i.type]&&(n=B[i.type].pinnedItemId),e&&Array.isArray(e)&&o(e)&&(J=!0,wp.ui.default.showRenderingWebView(),A.rpc.postMessage("contextmenu.activate",{menuItems:e,_currentContext:P,header:a,pinnedItemId:n}))}function g(e,n,i){var t={},a="tel:";p(n)?t.uri=j.translatePath(n.src):d(n)&&(n.url?(t.uri=j.translatePath(n.url),t.uri=n.url.replace(/ /g,"%20"),0===n.url.indexOf(a)&&(t.metadata=JSON.stringify({subject:n.url.replace("tel:","")}))):(t.mime="text/plain",t.data=j.base64Encode(n.text))),N.getMenuItems(t,function(a,o,s){var l,r,d,p,c;if(s)console.log(s);else for(l=o&&o.hasOwnProperty("items")?o.items:[],c=0;l.length>c;c++)j.isLocalURI(j.parseURI(n.url))||(r={label:l[c].label,actionId:"MenuService-"+c,icon:"file://"+l[c].icon},d=a?j.copy(a):{},l[c].action&&(d.action=l[c].action),l[c].children?(r.children=l[c].children,r["inherited-target"]=d):(r.invoke=j.mixin(d,l[c].invoke),r.invoke.type=r.invoke.mime,r.invoke.uri||(r.invoke.uri=j.translatePath(t.uri))),F.addMenuServiceItem(r),p=e.slice(-2),p&&p[0].isPinned?e.splice(-2,0,r):p&&p[1].isPinned&&e.splice(-1,0,r));i(e)})}function w(e,n){return V[e.actionId]=e,e.actionId&&""!==e.actionId&&"function"==typeof n?(F.addCustomItem(e.actionId,n),!0):!1}function b(e){return e&&V[e]?(F.removeCustomItem(e),delete V[e],!0):!1}function x(e){var n,i;for(n=0;e.length>n;n++)i=e[n].actionId,V[i]&&(e[n].label=V[i].label?V[i].label:e[n].label,e[n].icon=V[i].icon?V[i].icon:e[n].icon)}function T(e,n){var i,t=$[n];if(t)for(i in t)t.hasOwnProperty(i)&&e.unshift(t[i])}function M(e,n){var i=t(P),a=function(e,t){if(c(n)){if(B[i.type]){var a=B[i.type].includeContextItems;a&&-1!==a.indexOf(t)&&T(e,t)}}else T(e,t)};T(e,G),c(n)&&T(e,i.type),n&&a(e,u(n))}function k(){$={},F.clearCustomHandlers(),U={}}function S(e){e="function"==typeof e.getWebViewObj?e.getWebViewObj():e,F.setClientWebView(e.id),e.on("PropertyCurrentContextEvent",X.PropertyCurrentContextEvent=function(e,n){P=JSON.parse(n),F.setCurrentContext(P)}),e.on("ContextMenuCancelEvent",X.ContextMenuCancelEvent=function(){W&&(A.rpc.postMessage("contextmenu.hide"),e.isContextmenuVisible=!1)}),e.on("ContextMenuRequestEvent",X.ContextMenuRequestEvent=function(n,i){var o=JSON.parse(i),s=t(P),l=!c(P)||B[s.type]&&B[s.type].includePlatformItems,r=function(n){n=v(n,P),M(n,P),x(n),y(n),e.isContextmenuVisible=J};F.invocationResults=[],W&&!J&&(l||(o.menuItems=[]),a(o.menuItems,function(e){W&&(!c(P)||B[s.type]&&B[s.type].includeMenuServiceItems?g(e,P,r):r(e))})),n.returnValue='{"setPreventDefault":true}'}),e.on("LocationChange",X.LocationChange=function(){k()}),e.on("TouchHoldReleased",X.TouchHoldReleased=function(){W&&J&&(A.rpc.postMessage("contextmenu.show"),e.isContextmenuVisible=!0,qnx.callExtensionMethod("application.setKeyboardFocus",A.jsScreenWindowHandle))}),A.rpc.on("webview.notifyContextMenuCancelled",X.notifyContextMenuCancelled=function(){e&&(J=!1,e.isContextmenuVisible=!1,wp.core.events.emit("contextmenu.hidden"),e.notifyContextMenuCancelled(),wp.ui.default.hideRenderingWebView(),qnx.callExtensionMethod("application.setKeyboardFocus",e.jsScreenWindowHandle))})}function E(e){e="function"==typeof e.getWebViewObj?e.getWebViewObj():e,e.un("PropertyCurrentContextEvent",X.PropertyCurrentContextEvent),e.un("ContextMenuCancelEvent",X.ContextMenuCancelEvent),e.un("ContextMenuRequestEvent",X.ContextMenuRequestEvent),e.un("LocationChange",X.LocationChange),e.un("TouchHoldReleased",X.TouchHoldReleased),A.rpc.un("webview.notifyContextMenuCancelled",X.notifyContextMenuCancelled)}function C(e){A=e,F.init(e),I=window.wp.getController(),R=window.wp.getApplication(),q=R.invocation,O=j.i18n(),A.rpc.un("contextmenu.sensitivity",X.sensitivity),A.rpc.un("contextmenu.executeMenuAction",X.executeMenuAction),A.rpc.on("contextmenu.sensitivity",X.sensitivity=function(e,n){A.sensitivity=n}),A.rpc.on("contextmenu.executeMenuAction",X.executeMenuAction=function(e,n){var i=t(P);i=i.id,n&&F.runHandler(n,i)}),e.spatialNavigation=!0,e.pointerInteractionMode=!1,J=!1}var _,I,A,P,z,q,R,O,L,D,N=e("./../../../wp2/lib/menuService"),j=e("./../../../wp2/lib/utils"),F=e("./actions"),$={},V={},U={},W=!0,J=!1,B={},G="ALL",K="LINK",H="IMAGE_LINK",Y="IMAGE",Q="TEXT",Z="INPUT",X={};_={renderOn:C,addItem:o,removeItem:l,overrideItem:w,clearOverride:b,disablePlatformItem:m,enablePlatformItem:f,listDisabledPlatformItems:h,defineCustomContext:r,activateContextMenu:y,subscribeTo:S,unsubscribeTo:E},_.__defineGetter__("enabled",function(){return W}),_.__defineSetter__("enabled",function(e){W=e}),i.exports=_}),define("wp2/lib/defaultHandlers/onOpenWindow",["require","exports","module","./../../../core/plugins/contextmenu/api"],function(e,n,i){function t(e,n,i){s=window.wp.createWebView({processId:n},function(){s.backgroundColor=16777215,s.devicePixelRatio=1,s.zOrder=i,s.active=!0,s.setGeometry(0,0,window.innerWidth,window.innerHeight),e.setPopupWebView(s.id),s.visible=!0}),s.on("Destroyed",function(){qnx.callExtensionMethod("webview.delete",s.id),s=void 0}),s.on("ProcessCrash",function(){s=void 0})}function a(){s&&qnx.callExtensionMethod("webview.destroy",s.id)}function o(n){r=!0,l=e("./../../../core/plugins/contextmenu/api"),n.on("CloseWindow",function(){s&&(s.visible=!1,a()),l&&(l.enabled=!0)})}var s,l,r,d="ChildWindowOpen";i.exports={handle:function(e){return function(n,i){var a=JSON.parse(i),p=e.processId?e.processId:0,c=parseInt(e.zOrder,10)+5;r||o(e),"CREATE"===a.action&&a.isPopup?(l&&(l.enabled=!1),s?(e.setPopupWebView(s.id),s.visible=!0):t(e,p,c),n.returnValue=JSON.stringify({setAction:"DISCARD"})):e.emit(d,[i],n)}}}}),define("dependencies/URI.js/src/URI",["require","exports","module"],function(e,n,i){(function(n){function t(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return"[object Array]"==Object.prototype.toString.call(e)+""}function o(e,i){var t,o,s={};if(a(i))for(t=0,o=i.length;o>t;t++)s[i[t]]=!0;else s[i]=!0;for(t=0,o=e.length;o>t;t++)s[e[t]]!==n&&(e.splice(t,1),o--,t--);return e}var s=i!==n&&i.exports,l=function(n){return s?e("./"+n):window[n]},r=l("punycode"),d=l("IPv6"),p=l("SecondLevelDomains"),c=function(e,i){return this instanceof c?(e===n&&(e=location.href+""),this.href(e),i!==n?this.absoluteTo(i):this):new c(e)},u=c.prototype;c.idn_expression=/[^a-z0-9\.-]/i,c.punycode_expression=/(xn--)/i,c.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,c.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,c.defaultPorts={http:"80",https:"443",ftp:"21"},c.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,c.encode=encodeURIComponent,c.decode=decodeURIComponent,c.iso8859=function(){c.encode=escape,c.decode=unescape},c.unicode=function(){c.encode=encodeURIComponent,c.decode=decodeURIComponent},c.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}}},c.encodeQuery=function(e){return c.encode(e+"").replace(/%20/g,"+")},c.decodeQuery=function(e){return c.decode((e+"").replace(/\+/g,"%20"))},c.recodePath=function(e){for(var n=(e+"").split("/"),i=0,t=n.length;t>i;i++)n[i]=c.encodePathSegment(c.decode(n[i]));return n.join("/")},c.decodePath=function(e){for(var n=(e+"").split("/"),i=0,t=n.length;t>i;i++)n[i]=c.decodePathSegment(n[i]);return n.join("/")};var m,f={encode:"encode",decode:"decode"},h=function(e){return function(n){return c[e](n+"").replace(c.characters.pathname[e].expression,function(n){return c.characters.pathname[e].map[n]})}};for(m in f)c[m+"PathSegment"]=h(f[m]);c.parse=function(e){var n,i={};return n=e.indexOf("#"),n>-1&&(i.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(i.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(i.protocol="",e=e.substring(2),e=c.parseAuthority(e,i)):(n=e.indexOf(":"),n>-1&&(i.protocol=e.substring(0,n),"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=c.parseAuthority(e,i)):(e=e.substring(n+1),i.urn=!0))),i.path=e,i},c.parseHost=function(e,n){var i,t=e.indexOf("/");if(-1===t&&(t=e.length),"["===e[0]){var a=e.indexOf("]");n.hostname=e.substring(1,a)||null,n.port=e.substring(a+2,t)||null}else e.indexOf(":")!==e.lastIndexOf(":")?(n.hostname=e.substring(0,t)||null,n.port=null):(i=e.substring(0,t).split(":"),n.hostname=i[0]||null,n.port=i[1]||null);return n.hostname&&"/"!==e.substring(t)[0]&&(t++,e="/"+e),e.substring(t)||"/"},c.parseAuthority=function(e,n){return e=c.parseUserinfo(e,n),c.parseHost(e,n)},c.parseUserinfo=function(e,n){var i,t=e.indexOf("@"),a=e.indexOf("/");return t>-1&&(-1===a||a>t)?(i=e.substring(0,t).split(":"),n.username=i[0]?c.decode(i[0]):null,n.password=i[1]?c.decode(i[1]):null,e=e.substring(t+1)):(n.username=null,n.password=null),e},c.parseQuery=function(e){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var n={},i=e.split("&"),t=i.length,a=0;t>a;a++){var o=i[a].split("="),s=c.decodeQuery(o.shift()),l=o.length?c.decodeQuery(o.join("=")):null;n[s]?("string"==typeof n[s]&&(n[s]=[n[s]]),n[s].push(l)):n[s]=l}return n},c.build=function(e){var n="";return e.protocol&&(n+=e.protocol+":"),e.urn||!n&&!e.hostname||(n+="//"),n+=c.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path[0]&&"string"==typeof e.hostname&&(n+="/"),n+=e.path),"string"==typeof e.query&&(n+="?"+e.query),"string"==typeof e.fragment&&(n+="#"+e.fragment),n},c.buildHost=function(e){var n="";return e.hostname?(c.ip6_expression.test(e.hostname)?n+=e.port?"["+e.hostname+"]:"+e.port:e.hostname:(n+=e.hostname,e.port&&(n+=":"+e.port)),n):""},c.buildAuthority=function(e){return c.buildUserinfo(e)+c.buildHost(e)},c.buildUserinfo=function(e){var n="";return e.username&&(n+=c.encode(e.username),e.password&&(n+=":"+c.encode(e.password)),n+="@"),n},c.buildQuery=function(e,i){var t="";for(var o in e)if(Object.hasOwnProperty.call(e,o)&&o)if(a(e[o]))for(var s={},l=0,r=e[o].length;r>l;l++)e[o][l]!==n&&s[e[o][l]+""]===n&&(t+="&"+c.buildQueryParameter(o,e[o][l]),i!==!0&&(s[e[o][l]+""]=!0));else e[o]!==n&&(t+="&"+c.buildQueryParameter(o,e[o]));return t.substring(1)},c.buildQueryParameter=function(e,n){return c.encodeQuery(e)+(null!==n?"="+c.encodeQuery(n):"")},c.addQuery=function(e,i,t){if("object"==typeof i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&c.addQuery(e,o,i[o]);else{if("string"!=typeof i)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(e[i]===n)return e[i]=t,n;"string"==typeof e[i]&&(e[i]=[e[i]]),a(t)||(t=[t]),e[i]=e[i].concat(t)}},c.removeQuery=function(e,i,t){if(a(i))for(var s=0,l=i.length;l>s;s++)e[i[s]]=n;else if("object"==typeof i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&c.removeQuery(e,r,i[r]);else{if("string"!=typeof i)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");t!==n?e[i]===t?e[i]=n:a(e[i])&&(e[i]=o(e[i],t)):e[i]=n}},c.commonPath=function(e,n){var i,t=Math.min(e.length,n.length);for(i=0;t>i;i++)if(e[i]!==n[i]){i--;break}return 1>i?e[0]===n[0]&&"/"===e[0]?"/":"":("/"!==e[i]&&(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},c.withinString=function(e,n){return e.replace(c.find_uri_expression,n)},c.ensureValidHostname=function(e){if(e.match(c.invalid_hostname_characters)){if(!r)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(r.toASCII(e).match(c.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},u.build=function(e){return e===!0?this._deferred_build=!0:(e===n||this._deferred_build)&&(this._string=c.build(this._parts),this._deferred_build=!1),this},u.valueOf=u.toString=function(){return this.build(!1)._string
},f={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},h=function(e){return function(i,t){return i===n?this._parts[e]||"":(this._parts[e]=i,this.build(!t),this)}};for(m in f)u[m]=h(f[m]);f={query:"?",fragment:"#"},h=function(e,i){return function(t,a){return t===n?this._parts[e]||"":(null!==t&&(t+="",t[0]===i&&(t=t.substring(1))),this._parts[e]=t,this.build(!a),this)}};for(m in f)u[m]=h(m,f[m]);f={search:["?","query"],hash:["#","fragment"]},h=function(e,n){return function(i,t){var a=this[e](i,t);return"string"==typeof a&&a.length?n+a:a}};for(m in f)u[m]=h(f[m][1],f[m][0]);u.pathname=function(e,i){if(e===n||e===!0){var t=this._parts.path||(this._parts.urn?"":"/");return e?c.decodePath(t):t}return this._parts.path=e?c.recodePath(e):"/",this.build(!i),this},u.path=u.pathname,u.href=function(e,i){if(e===n)return""+this;this._string="",this._parts={protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null};var t,a=e instanceof c,o="object"==typeof e&&(e.hostname||e.path);if("string"==typeof e)this._parts=c.parse(e);else{if(!a&&!o)throw new TypeError("invalid input");var s=a?e._parts:e;for(t in s)Object.hasOwnProperty.call(this._parts,t)&&(this._parts[t]=s[t])}return this.build(!i),this},u.is=function(e){var n=!1,i=!1,t=!1,a=!1,o=!1,s=!1,l=!1,r=!this._parts.urn;switch(this._parts.hostname&&(r=!1,i=c.ip4_expression.test(this._parts.hostname),t=c.ip6_expression.test(this._parts.hostname),n=i||t,a=!n,o=a&&p&&p.has(this._parts.hostname),s=a&&c.idn_expression.test(this._parts.hostname),l=a&&c.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return r;case"absolute":return!r;case"domain":case"name":return a;case"sld":return o;case"ip":return n;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return t;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var v=u.protocol,y=u.port,g=u.hostname;u.protocol=function(e,i){if(e!==n&&e&&(e=e.replace(/:(\/\/)?$/,""),e.match(/[^a-zA-z0-9\.+-]/)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-]");return v.call(this,e,i)},u.scheme=u.protocol,u.port=function(e,i){if(this._parts.urn)return e===n?"":this;if(e!==n&&(0===e&&(e=null),e&&(e+="",":"===e[0]&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return y.call(this,e,i)},u.hostname=function(e,i){if(this._parts.urn)return e===n?"":this;if(e!==n){var t={};c.parseHost(e,t),e=t.hostname}return g.call(this,e,i)},u.host=function(e,i){return this._parts.urn?e===n?"":this:e===n?this._parts.hostname?c.buildHost(this._parts):"":(c.parseHost(e,this._parts),this.build(!i),this)},u.authority=function(e,i){return this._parts.urn?e===n?"":this:e===n?this._parts.hostname?c.buildAuthority(this._parts):"":(c.parseAuthority(e,this._parts),this.build(!i),this)},u.userinfo=function(e,i){if(this._parts.urn)return e===n?"":this;if(e===n){if(!this._parts.username)return"";var t=c.buildUserinfo(this._parts);return t.substring(0,t.length-1)}return"@"!==e[e.length-1]&&(e+="@"),c.parseUserinfo(e,this._parts),this.build(!i),this},u.subdomain=function(e,i){if(this._parts.urn)return e===n?"":this;if(e===n){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,a)||""}var o=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,o),l=RegExp("^"+t(s));return e&&"."!==e[e.length-1]&&(e+="."),e&&c.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(l,e),this.build(!i),this},u.domain=function(e,i){if(this._parts.urn)return e===n?"":this;if("boolean"==typeof e&&(i=e,e=n),e===n){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.match(/\./g);if(a&&2>a.length)return this._parts.hostname;var o=this._parts.hostname.length-this.tld(i).length-1;return o=this._parts.hostname.lastIndexOf(".",o-1)+1,this._parts.hostname.substring(o)||""}if(!e)throw new TypeError("cannot set domain empty");if(c.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var s=RegExp(t(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!i),this},u.tld=function(e,i){if(this._parts.urn)return e===n?"":this;if("boolean"==typeof e&&(i=e,e=n),e===n){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(a+1);return i!==!0&&p&&p.list[o.toLowerCase()]?p.get(this._parts.hostname)||o:o}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!p||!p.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");s=RegExp(t(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=RegExp(t(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!i),this},u.directory=function(e,i){if(this._parts.urn)return e===n?"":this;if(e===n||e===!0){if(!this._parts.path||"/"===this._parts.path)return"/";var a=this._parts.path.length-this.filename().length-1,o=this._parts.path.substring(0,a)||"/";return e?c.decodePath(o):o}var s=this._parts.path.length-this.filename().length,l=this._parts.path.substring(0,s),r=RegExp("^"+t(l));return this.is("relative")||(e||(e="/"),"/"!==e[0]&&(e="/"+e)),e&&"/"!==e[e.length-1]&&(e+="/"),e=c.recodePath(e),this._parts.path=this._parts.path.replace(r,e),this.build(!i),this},u.filename=function(e,i){if(this._parts.urn)return e===n?"":this;if(e===n||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var a=this._parts.path.lastIndexOf("/"),o=this._parts.path.substring(a+1);return e?c.decodePathSegment(o):o}var s=!1;"/"===e[0]&&(e=e.substring(1)),e.match(/\.?\//)&&(s=!0);var l=RegExp(t(this.filename())+"$");return e=c.recodePath(e),this._parts.path=this._parts.path.replace(l,e),s?this.normalizePath(i):this.build(!i),this},u.suffix=function(e,i){if(this._parts.urn)return e===n?"":this;if(e===n||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var a,o,s=this.filename(),l=s.lastIndexOf(".");return-1===l?"":(a=s.substring(l+1),o=/^[a-z0-9%]+$/i.test(a)?a:"",e?c.decodePathSegment(o):o)}"."===e[0]&&(e=e.substring(1));var r,d=this.suffix();if(d)r=e?RegExp(t(d)+"$"):RegExp(t("."+d)+"$");else{if(!e)return this;this._parts.path+="."+c.recodePath(e)}return r&&(e=c.recodePath(e),this._parts.path=this._parts.path.replace(r,e)),this.build(!i),this};var w=u.query;u.query=function(e,i){return e===!0?c.parseQuery(this._parts.query):e!==n&&"string"!=typeof e?(this._parts.query=c.buildQuery(e),this.build(!i),this):w.call(this,e,i)},u.addQuery=function(e,n,i){var t=c.parseQuery(this._parts.query);return c.addQuery(t,e,n),this._parts.query=c.buildQuery(t),"string"!=typeof e&&(i=n),this.build(!i),this},u.removeQuery=function(e,n,i){var t=c.parseQuery(this._parts.query);return c.removeQuery(t,e,n),this._parts.query=c.buildQuery(t),"string"!=typeof e&&(i=n),this.build(!i),this},u.addSearch=u.addQuery,u.removeSearch=u.removeQuery,u.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},u.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},u.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&r?this._parts.hostname=r.toASCII(this._parts.hostname):this.is("IPv6")&&d&&(this._parts.hostname=d.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},u.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===c.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},u.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var n,i,t,a,o=this._parts.path;for("/"!==o[0]&&("."===o[0]&&(i=o.substring(0,o.indexOf("/"))),n=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|\/{2,}/g,"/");;){if(t=o.indexOf("/../"),-1===t)break;if(0===t){o=o.substring(3);break}a=o.substring(0,t).lastIndexOf("/"),-1===a&&(a=t),o=o.substring(0,a)+o.substring(t+3)}return n&&this.is("relative")&&(o=i?i+o:o.substring(1)),o=c.recodePath(o),this._parts.path=o,this.build(!e),this},u.normalizePathname=u.normalizePath,u.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(c.parseQuery(this._parts.query)):this._parts.query=null,this.build(!e)),this},u.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},u.normalizeSearch=u.normalizeQuery,u.normalizeHash=u.normalizeFragment,u.iso8859=function(){var e=c.encode,n=c.decode;return c.encode=escape,c.decode=decodeURIComponent,this.normalize(),c.encode=e,c.decode=n,this},u.unicode=function(){var e=c.encode,n=c.decode;return c.encode=encodeURIComponent,c.decode=unescape,this.normalize(),c.encode=e,c.decode=n,this},u.readable=function(){var e=new c(this);e.username("").password("").normalize();var i="";if(e._parts.protocol&&(i+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&r?(i+=r.toUnicode(e._parts.hostname),e._parts.port&&(i+=":"+e._parts.port)):i+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path[0]&&(i+="/"),i+=e.path(!0),e._parts.query){for(var t="",a=0,o=e._parts.query.split("&"),s=o.length;s>a;a++){var l=(o[a]||"").split("=");t+="&"+c.decodeQuery(l[0]).replace(/&/g,"%26"),l[1]!==n&&(t+="="+c.decodeQuery(l[1]).replace(/&/g,"%26"))}i+="?"+t.substring(1)}return i+=e.hash()},u.absoluteTo=function(e){if(this._parts.urn)throw Error("URNs do not have any generally defined hierachical components");if(!this.is("relative"))throw Error("Cannot resolve non-relative URL");e instanceof c||(e=new c(e));for(var n,i=new c(this),t=["protocol","username","password","hostname","port"],a=0;n=t[a];a++)i._parts[n]=e._parts[n];return"/"!==i.path()[0]&&(i._parts.path=e.directory()+"/"+i._parts.path,i.normalizePath()),i.build(),i},u.relativeTo=function(e){if(this._parts.urn)throw Error("URNs do not have any generally defined hierachical components");if(e instanceof c||(e=new c(e)),"/"!==this.path()[0]||"/"!==e.path()[0])throw Error("Cannot calculate common path from non-relative URLs");for(var n,i=new c(this),a=["protocol","username","password","hostname","port"],o=c.commonPath(i.path(),e.path()),s=e.directory(),l=0;n=a[l];l++)i._parts[n]=null;if(!o||"/"===o)return i;if(s+"/"===o)i._parts.path="./"+i.filename();else{for(var r="../",d=RegExp("^"+t(o)),p=s.replace(d,"/").match(/\//g).length-1;p--;)r+="../";i._parts.path=i._parts.path.replace(d,r)}return i.build(),i},u.equals=function(e){var n,i,t,o=new c(this),s=new c(e),l={},r={},d={};if(o.normalize(),s.normalize(),""+o==""+s)return!0;if(n=o.query(),i=s.query(),o.query(""),s.query(""),""+o!=""+s)return!1;if(n.length!==i.length)return!1;l=c.parseQuery(n),r=c.parseQuery(i);for(t in l)if(Object.prototype.hasOwnProperty.call(l,t)){if(a(l[t])){if(!a(r[t]))return!1;if(l[t].length!==r[t].length)return!1;l[t].sort(),r[t].sort();for(var p=0,u=l[t].length;u>p;p++)if(l[t][p]!==r[t][p])return!1}else if(l[t]!==r[t])return!1;d[t]=!0}for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&!d[t])return!1;return!0},i!==n&&i.exports?i.exports=c:window.URI=c})()}),define("core/lib/chrome/events/application",["require","exports","module"],function(e,n,i){function t(e){switch(e){case"right_up":return 90;case"left_up":return 270;case"bottom_up":return 180;default:return 0}}function a(e,n){var i=n?"ApplicationActivationStateActive":"ApplicationActivationStateStandby";qnx.callExtensionMethod("webview.setApplicationActivationState",e,i)}function o(e){return e}var s,l,r,d=window.orientation;r={onExit:function(){s.emit("application.exit",[],!0)},onFontInfoChange:function(e,n){s.emit("application.systemFontChange",[e,o(n)])},onKeyboardOpening:function(){l.setState(l.OPENING)},onKeyboardOpened:function(){l.setState(l.OPENED)},onKeyboardClosing:function(){l.setState(l.CLOSING)},onKeyboardClosed:function(){l.setState(l.CLOSED)},onKeyboardPosition:function(e){l.setPosition(e)},onLanguageChange:function(e){s.emit("application.systemLanguageChange",[e])},onLowMemory:function(){var e,n=wp.getWebViews();for(e=0;n.length>e;e++)n[e].notifySystemLowMemory();s.emit("application.lowMemory")},onRegionChange:function(e){s.emit("application.systemRegionChange",[e])},onRotate:function(e,n){var i=screen.width,a=screen.height,o=t(n),l=o-d,r=i,p=a;l%180&&(r=a,p=i),s.emit("application.rotate",[r,p,o,e],!0),d=o},onRotateCheck:function(){return!0},onRotateDone:function(e){var n=t(e);s.emit("application.rotateDone",[n])},onPropertyViewportEvent:function(){s.emit("application.propertyViewportEvent")},onSwipeDown:function(){s.emit("application.swipeDown")},onSwipeStart:function(){s.emit("application.swipeStart")},onWindowActive:function(){s.emit("application.active"),wp.getWebViews().forEach(function(e){a(e.id,!0)})},onWindowInactive:function(){s.emit("application.inactive"),wp.getWebViews().forEach(function(e){a(e.id)})},onWindowState:function(e){wp.getApplication().windowState=e,s.emit("application.stateChange",[e])},onDeviceEdge:function(e){s.emit("application.rotateWhenLocked",[e])},onPooled:function(){s.emit("application.pooled")},onIsDeviceLocked:function(e){s.emit("application.isDeviceLocked",[e])},onDataLockStateChange:function(e,n){wp.core.events.emit("application.dataLockStateChange",[e,1e3*n],!1)},onGetDataLockState:function(e){wp.core.events.emit("application.getDataLockState",[e])},onGetDataLockTime:function(e){wp.core.events.emit("application.getDataLockTime",[1e3*e])},onWindowCovers:function(e){var n=JSON.parse(e);wp.getApplication().coverSizes=n,s.emit("application.windowCovers",[n]),s.emit("application.windowCover",[n.fullSize])},onWindowCoverEnter:function(){s.emit("application.windowCoverEnter")},onWindowCoverExit:function(){s.emit("application.windowCoverExit")},onWindowLock:function(){s.emit("application.windowLock")},onWindowUnlock:function(){s.emit("application.windowUnlock")},onSystemKeyPress:function(e,n){var i="application.systemKeyPress-"+n;s.emit(i,[e,n]),s.emit("application.systemKeyPress",[e,n,s.isOn(i)])},systemKeyPressedHandled:function(e,n){qnx.callExtensionMethod("application.systemKeyPress",e,n)}},i.exports=r,s={typeMap:{"application.systemFontChange":"application.fontchanged","application.swipeDown":"application.swipedown","application.swipeStart":"application.swipestart"},emit:function(e){e=this.typeMap[e]||e,wp.core.events.emit.apply(wp.core.events,arguments)},isOn:function(e){return e=this.typeMap[e]||e,wp.core.events.isOn.apply(wp.core.events,arguments)}},l={OPENING:"application.keyboardOpening",OPENED:"application.keyboardOpened",CLOSING:"application.keyboardClosing",CLOSED:"application.keyboardClosed",setState:function(e){s.emit(e,[],!1)},setPosition:function(e){s.emit("application.keyboardPosition",[e],!1)}}}),define("core/lib/chrome/events/windowAnimations",["require","exports","module","../../../../wp2/lib/windowAnimations"],function(e,n,i){var t,a=e("../../../../wp2/lib/windowAnimations").windowAnimationFinishedCallbacks;t={onWindowAnimationFinished:function(e){a[e]&&(a[e](),delete a[e])}},i.exports=t}),define("core/lib/invocation",["require","exports","module","./error"],function(e,n,i){function t(){var e=p++;return window.isFinite(e)||(p=0,e=0),e}function a(e){return e&&-1!==e.indexOf("local:///")?!0:!1}function o(e){return qnx.callExtensionMethod("application.getenv",e)}function s(e){var n=o("HOME");return a(e)&&(e="file:///"+n.replace(/^\/*/,"")+"/../app/native/"+e.replace(/local:\/\/\//,"")),e}var l,r,d,p=0,c={},u={};l={INVOKE_NO_TARGET_ERROR:"INVOKE_NO_TARGET_ERROR",INVOKE_BAD_REQUEST_ERROR:"INVOKE_BAD_REQUEST_ERROR",INVOKE_INTERNAL_ERROR:"INVOKE_INTERNAL_ERROR",INVOKE_TARGET_ERROR:"INVOKE_TARGET_ERROR",INVOKE_TARGET_NOT_OWNED_ERROR:"INVOKE_TARGET_NOT_OWNED_ERROR",QUERY_TARGETS_INVALID_ARGUMENT:"invalid_argument",QUERY_TARGETS_RESPONSE_TOO_LARGE:"response_too_large",QUERY_TARGETS_SERVER_ERROR:"server_error",LAUNCH:0,INVOKE:1,VIEWER:2,CARD:3,STARTUP_MODES_MAP:["launch","invoke","viewer","card"],InvokeAction:{OPEN:"bb.action.OPEN",SHARE:"bb.action.SHARE",VIEW:"bb.action.VIEW"},TARGET_TYPE_MASK_APPLICATION:1,TARGET_TYPE_MASK_CARD:2,TARGET_TYPE_MASK_VIEWER:0,TARGET_TYPE_MASK_SERVICE:8,TARGET_TYPE_MASK_HEADLESS:64,ACTION_TYPE_ALL:"ALL",ACTION_TYPE_MENU:"MENU",PERIMETER_TYPE_PERSONAL:"personal",PERIMETER_TYPE_ENTERPRISE:"enterprise",FILE_TRANSFER_PRESERVE:"PRESERVE",FILE_TRANSFER_COPY_RO:"COPY_RO",FILE_TRANSFER_COPY_RW:"COPY_RW",FILE_TRANSFER_LINK:"LINK",CARD_EDGE_TOP:"top_up",CARD_EDGE_BOTTOM:"bottom_up",CARD_EDGE_LEFT:"left_up",CARD_EDGE_RIGHT:"right_up",CARD_ORIENTATION_PORTRAIT:"portrait",CARD_ORIENTATION_LANDSCAPE:"landscape",CARD_PEEK_TYPE_CONTENT:"content",CARD_PEEK_TYPE_ROOT:"root",getStartupMode:function(){var e,n=o("uri");return"invoke://localhost"===n?(e=o("MODE"),"card"===e?l.CARD:"view"===e?l.VIEWER:l.INVOKE):l.LAUNCH},getRequest:function(){return qnx.callExtensionMethod("invocation.invokeRequest")},invoke:function(e,n,i){var s=t(),l=o("HOME")+"";a(e.uri)&&(e.uri="file:///"+l.replace(/^\/*/,"")+"/../app/native/"+e.uri.replace(/local:\/\/\//,"")),n&&(c[s]=n),"function"==typeof d&&i?d(e,function(e){"object"==typeof e&&qnx.callExtensionMethod("invocation.invoke",s,JSON.stringify(e))}):qnx.callExtensionMethod("invocation.invoke",s,JSON.stringify(e))},invokeViewer:function(e,n){var i,a=t();n&&(c[a]=n),i="viewer"+a,e.winid=i,qnx.callExtensionMethod("invocation.invokeViewer",a,i,JSON.stringify(e))},queryTargets:function(e,n){var i=t(),a="viewer"+i;c[i]=n,e.winid=a,e.hasOwnProperty("uri")&&(e.uri=s(e.uri)),qnx.callExtensionMethod("invocation.queryTargets",i,JSON.stringify(e))},cardResized:function(){r&&qnx.callExtensionMethod("invocation.cardResize",r)},cardPeek:function(e){qnx.callExtensionMethod("invocation.cardPeek",e)},closeChildCard:function(){qnx.callExtensionMethod("invocation.cardChildClose")},sendCardDone:function(e){qnx.callExtensionMethod("invocation.cardClose",JSON.stringify(e))},getInvokeTargetFilters:function(e,n){var i,a=t();c[a]=n,i={target:e},qnx.callExtensionMethod("invocation.getInvokeTargetFilters",a,JSON.stringify(i))},setInvokeTargetFilters:function(e,n){var i=t();n&&(c[i]=n),qnx.callExtensionMethod("invocation.setInvokeTargetFilters",i,JSON.stringify(e))},onInvoked:function(e){wp.core.events.emit("invocation.invoked",[e])},onInvokeResponse:function(e,n,i){var t,a=c[e];if(a){delete c[e];try{t=JSON.parse(i)}catch(o){t=null}a(n,t)}},onInvokeViewerResponse:function(e,n){if(n){var i=c[e];delete c[e],i&&i(n)}},onQueryTargetsResponse:function(e,n,i){var t,a=c[e];if(a){delete c[e];try{t=JSON.parse(i)}catch(o){t=null}a(n,t)}},onViewerCreate:function(e,n){var i,a=c[e];delete c[e],i={viewerId:n,relayCallbacks:{},close:function(){qnx.callExtensionMethod("invocation.closeViewer",this.viewerId)},receive:function(e,n){var i=n.msg;"viewerCloseRequest"===i?(this.close(),this.hasOwnProperty("onClose")&&this.onClose()):"viewerCancelRequest"===i?(this.close(),this.hasOwnProperty("onCancel")&&this.onCancel()):this.hasOwnProperty("onReceive")&&this.onReceive(e,n.msg,n.dat)},receiveResponse:function(e,n){var i=this.relayCallbacks[e];delete this.relayCallbacks[e],i&&i(n.name,n.dat)},setSize:function(e,n){var i={msg:"resizeReqeust",data:{width:e,height:n}};this.send(JSON.stringify(i))},setPosition:function(e,n){qnx.callExtensionMethod("invocation.setViewerPosition",this.viewerId,e,n)},setVisibility:function(e){qnx.callExtensionMethod("invocation.setViewerVisibility",this.viewerId,e)},setZOrder:function(e){qnx.callExtensionMethod("invocation.setViewerZOrder",this.viewerId,e)},send:function(e,n){var i=t();n&&(this.relayCallbacks[i]=n),e.winid=this.viewerId,qnx.callExtensionMethod("invocation.viewerRelay",i,e)},update:function(){qnx.callExtensionMethod("applicationWindow.flushContext")}},u[i.viewerId]=i,a(null,i)},onViewerRelay:function(e,n){try{var i=JSON.parse(n),t=u[i.winId];t&&t.receive(e,i)}catch(a){}},onViewerRelayResponse:function(e,n){try{var i=JSON.parse(n),t=u[i.winId];t&&t.receiveResponse(e,i)}catch(a){}},onViewerStopped:function(e){delete u[e]},onCardResize:function(e,n){var i=n.split(","),t={width:i[0],height:i[1],orientation:i[2],edge:i[3]};r=e,wp.core.events.emit("invocation.cardResize",[t])},onCardStartPeek:function(e){wp.core.events.emit("invocation.cardPeekStarted",[e])},onCardEndPeek:function(){wp.core.events.emit("invocation.cardPeekEnded")},onCardChildOpened:function(){wp.core.events.emit("invocation.childCardOpened")},onCardChildClosed:function(e){var n;try{n=JSON.parse(e)}catch(i){n={reason:"",type:"",data:""}}wp.core.events.emit("invocation.childCardClosed",[n])},onCardClosed:function(e){var n;try{n=JSON.parse(e)}catch(i){n={reason:"",type:"",data:""}}wp.core.events.emit("invocation.cardClosed",[n])},onGetInvokeTargetFiltersResponse:function(e,n,i){var t,a=c[e];if(a){delete c[e];try{t=JSON.parse(i)}catch(o){t=null}a(n,t)}},onSetInvokeTargetFiltersResponse:function(e,n,i){var t,a=c[e];if(a){delete c[e];try{t=JSON.parse(i)}catch(o){t=null}a(n,t)}},on:function(e,n){var i="invocation."+e.charAt(0).toLowerCase()+e.slice(1);wp.core.events.on(i,n)},un:function(e,n){var i="invocation."+e.charAt(0).toLowerCase()+e.slice(1);wp.core.events.un(i,n)}},e("./error").wrapAll(l,"invocation."),l.__defineGetter__("startupMode",function(){return l.getStartupMode()}),l.__defineGetter__("invokeRequest",function(){var e=l.getRequest();if(e)try{return JSON.parse(e)}catch(n){return null}return null}),l.__defineGetter__("interrupter",function(){return d}),l.__defineSetter__("interrupter",function(e){d=e}),i.exports=l}),define("core/lib/webDriver",["require","exports","module","./events"],function(e,n,i){var t,a=e("./events"),o=!0,s=200,l=function(){setTimeout(window.wp.core.automation.init,1)};t={get enabled(){return qnx.callExtensionMethod("webDriver.enabled")},set enabled(e){qnx.callExtensionMethod("webDriver.setEnabled",e),e&&o?a.once("automation.init",l):e&&!o?l():window.wp.core.automation.dinit()},get port(){return qnx.callExtensionMethod("webDriver.port")},exec:function(e,n,i,a){window.seleniumCoreRequire("main").executeRestCommand(e,n,i,a,t.reply)},reply:function(e,n,i,t,a){var o={},l=a||s;o.sessionId=e?""+e:"",o.status=n,o.value=i,qnx.callExtensionMethod("webDriver.reply",t,JSON.stringify(o),l)},error:function(e,n,i,a,o){t.reply(e,n,i,a,o)}},a.once("automation.init",function(){o=!1}),i.exports=t}),define("core/lib/chrome/internal",["require","exports","module","../chrome/events/application","../chrome/events/windowAnimations","../invocation","../webEvents","../pps/pps","../webDriver"],function(e,n,i){function t(e,n){-1===p.indexOf(e)&&p.push(e),n&&l.defineNetworkEvent(e)}var a=e("../chrome/events/application"),o=e("../chrome/events/windowAnimations"),s=e("../invocation"),l=e("../webEvents"),r=e("../pps/pps"),d=e("../webDriver"),p=["JavaScriptWindowObjectCleared","LocationChanging","ContextMenuRequestEvent","ContextMenuCancelEvent","PropertyCurrentContextEvent","UnknownProtocol","DialogRequested","ChooseFile","SSLHandshakingFailed","GeolocationPermissionRequest","NotificationPermissionRequest","NetworkError","NotificationPermissionCheck","UserMediaRequest","OpenWindow","ChildWindowOpen","ChildWebViewCreated","NetworkResourceStatusReceived","NetworkResourceHeaderReceived","NetworkResourceDataReceived","NetworkResourceRequested"];i.exports={sendEvents:p,defineSendEvent:t,windowAnimations:o,application:a,webDriver:d,invocation:{onInvoked:s.onInvoked,onInvokeResponse:s.onInvokeResponse,onInvokeViewerResponse:s.onInvokeViewerResponse,onQueryTargetsResponse:s.onQueryTargetsResponse,onViewerCreate:s.onViewerCreate,onViewerRelay:s.onViewerRelay,onViewerRelayResponse:s.onViewerRelayResponse,onViewerStopped:s.onViewerStopped,onCardResize:s.onCardResize,onCardStartPeek:s.onCardStartPeek,onCardEndPeek:s.onCardEndPeek,onCardChildClosed:s.onCardChildClosed,onCardClosed:s.onCardClosed,onGetInvokeTargetFiltersResponse:s.onGetInvokeTargetFiltersResponse,onSetInvokeTargetFiltersResponse:s.onSetInvokeTargetFiltersResponse},pps:{onEvent:r.onEvent},webEvent:function(e,n,i,t){var a={webviewId:e,returnValue:"",sync:!1};return-1!==p.indexOf(n)&&-1!==t&&(a.sync=!0),l.emit(n,a.webviewId,[i],a),a.returnValue}}}),define("wp2/lib/cards/mediaplayer",["require","exports","module","./../utils","../../../core/lib/pps/ppsUtils"],function(e,n,i){var t=e("./../utils"),a=e("../../../core/lib/pps/ppsUtils");i.exports={open:function(e,n,i,o){var s,l,r;e=e||{},r=t.translatePath(e.contentUri||""),l=a.encode({contentTitle:e.contentTitle,imageUri:e.imageUri?t.translatePath(e.imageUri):void 0}),s=function(e){wp.core.invocation.un("childCardClosed",s),0===e.reason.toLowerCase().indexOf("cancel")?"function"==typeof i&&i(e.reason):"function"==typeof n&&n(e.data)},wp.core.invocation.on("childCardClosed",s),wp.core.invocation.invoke({action:"bb.action.VIEW",target:"sys.mediaplayer.previewer",uri:r,data:t.base64Encode(l)},function(e){o(e)})}}}),define("wp2/lib/cards/emailComposer",["require","exports","module","./../../../core/lib/pps/ppsUtils","./../utils"],function(e,n,i){function t(e){var n,i=[];for(n=0;e.length>n;n++)i.push(o.translatePath(e[n]));return i}var a=e("./../../../core/lib/pps/ppsUtils"),o=e("./../utils");i.exports={open:function(e,n,i,s){var l,r=void 0!==typeof e?{from:e.from,subject:e.subject,body:e.body,calendarevent:e.calendarevent,to:e.to?e.to:[],cc:e.cc?e.cc:[],attachment:e.attachment?t(e.attachment):[]}:{},d=a.encode({data:r});l=function(e){wp.core.invocation.un("childCardClosed",l),"cancel"===e.reason?"function"==typeof i&&i(e.reason):"function"==typeof n&&n(e.data)},wp.core.invocation.on("childCardClosed",l),wp.core.invocation.invoke({target:"sys.pim.uib.email.hybridcomposer",action:"bb.action.COMPOSE",data:o.base64Encode(d)},s)}}}),define("wp2/lib/cards/calendarPicker",["require","exports","module","../../../core/lib/pps/ppsUtils","./../utils"],function(e,n,i){var t=e("../../../core/lib/pps/ppsUtils"),a=e("./../utils");i.exports={open:function(e,n,i,o){var s,l=void 0!==typeof e?{filepath:a.translatePath(e.filepath)}:{},r=t.encode(l);s=function(e){wp.core.invocation.un("childCardClosed",s),"cancel"===e.reason?"function"==typeof i&&i(e.reason):"function"==typeof n&&n(e.data)},wp.core.invocation.on("childCardClosed",s),wp.core.invocation.invoke({target:"sys.pim.calendar.viewer.nav",action:"bb.calendar.PICK",data:a.base64Encode(r)},o)}}}),define("wp2/lib/cards/calendarComposer",["require","exports","module","../../../core/lib/pps/ppsUtils","../utils"],function(e,n,i){var t=e("../../../core/lib/pps/ppsUtils"),a=e("../utils");i.exports={open:function(e,n,i,o){var s,l=e!==void 0?{accountId:e.accountId,syncId:e.syncId,subject:e.subject,startTime:e.startTime,duration:e.duration,body:e.body,participants:e.participants?e.participants:[]}:{},r=t.encode(l);s=function(e){wp.core.invocation.un("childCardClosed",s),"cancel"===e.reason?"function"==typeof i&&i(e.reason):"function"==typeof n&&n(e.data)},wp.core.invocation.on("childCardClosed",s),wp.core.invocation.invoke({target:"sys.pim.calendar.viewer.eventcreate",action:"bb.calendar.CREATE",data:a.base64Encode(r)},o)}}}),define("wp2/lib/cards/ics",["require","exports","module","./../../../core/lib/pps/ppsUtils","./../utils"],function(e,n,i){var t=e("./../../../core/lib/pps/ppsUtils"),a=e("./../utils");i.exports={open:function(e,n,i,o){var s,l,r={accountId:e.accountId};l=function(e){wp.core.invocation.un("childCardClosed",l),"Closed"===e.reason?"function"==typeof n&&n(e.data):"function"==typeof i&&i(e.reason)},wp.core.invocation.on("childCardClosed",l),s=t.encode(r),wp.core.invocation.invoke({action:"bb.action.OPEN",target:"sys.pim.calendar.viewer.ics",type:"text/calendar",uri:a.translatePath(e.uri),data:a.base64Encode(s)},function(e){o(e)})}}}),define("wp2/lib/Application",["require","exports","module","../../core/lib/chrome/internal","./cards/mediaplayer","./cards/file","./cards/capture","./cards/emailComposer","./cards/calendarPicker","./cards/calendarComposer","./cards/ics"],function(e,n,i){var t,a=e("../../core/lib/chrome/internal");t=function(){var e=qnx.callExtensionMethod("application.coverSizes"),n="1"===qnx.callExtensionMethod("application.isForeground")?"fullscreen":"thumbnail";this.__defineGetter__("coverSize",function(){return e.fullSize}),this.__defineSetter__("coverSize",function(n){e.fullSize=n}),this.__defineGetter__("coverSizes",function(){return e}),this.__defineSetter__("coverSizes",function(n){e=n}),this.__defineGetter__("windowState",function(){return n}),this.__defineSetter__("windowState",function(e){n=e}),this.__defineGetter__("isForeground",function(){return"1"===qnx.callExtensionMethod("application.isForeground")?!0:!1}),this.__defineGetter__("windowVisible",function(){return"1"===qnx.callExtensionMethod("applicationWindow.isVisible")}),this.__defineSetter__("windowVisible",function(e){qnx.callExtensionMethod("applicationWindow.setVisible",!!e)}),this.__defineGetter__("systemRegion",function(){return qnx.callExtensionMethod("application.systemRegion")}),this.__defineGetter__("webInspectorPort",function(){return qnx.callExtensionMethod("webInspector.port")}),this.getEnv=function(e){return qnx.callExtensionMethod("application.getenv",e)},this.setEnv=function(e,n){return qnx.callExtensionMethod("application.setenv",e,n)},this.unsetEnv=function(e){return qnx.callExtensionMethod("application.unsetenv",e)},this.notifyRotateComplete=function(){qnx.callExtensionMethod("application.notifyRotateComplete")},this.getSystemFontFamily=function(){return qnx.callExtensionMethod("application.systemFontFamily")},this.getSystemFontSize=function(){return parseInt(qnx.callExtensionMethod("application.systemFontSize"),10)},this.exit=function(){qnx.callExtensionMethod("application.requestExit")},this.minimizeWindow=function(){qnx.callExtensionMethod("application.minimizeWindow")},this.lockRotation=function(e){e?qnx.callExtensionMethod("application.lockRotation","deviceTracking"):qnx.callExtensionMethod("application.lockRotation")},this.unlockRotation=function(){qnx.callExtensionMethod("application.unlockRotation")},this.newWallpaper=function(e){qnx.callExtensionMethod("application.newWallpaper",e)},this.rotate=function(e){qnx.callExtensionMethod("application.rotate",e)},this.on=function(e,n){wp.core.events.on(e,n)},this.un=function(e,n){wp.core.events.un(e,n)},this.defineSendEvent=a.defineSendEvent,this.setWindowOrientation=function(e){qnx.callExtensionMethod("applicationWindow.setOrientation",e)},this.extendTerminate=function(){qnx.callExtensionMethod("application.extendTerminate")},this.setPooled=function(){qnx.callExtensionMethod("application.setPooled")},this.isDeviceLocked=function(e){var n=function(i){e(i),wp.core.events.un("application.isDeviceLocked",n)};wp.core.events.on("application.isDeviceLocked",n),qnx.callExtensionMethod("application.isDeviceLocked")},this.getDataLockState=function(e){var n=function(i){e(i),wp.core.events.un("application.getDataLockState",n)};wp.core.events.on("application.getDataLockState",n),qnx.callExtensionMethod("application.getDataLockState")},this.getDataLockTime=function(e){var n=function(i){e(i),wp.core.events.un("application.getDataLockTime",n)};wp.core.events.on("application.getDataLockTime",n),qnx.callExtensionMethod("application.getDataLockTime")},this.updateCover=function(e){var n={fullSize:e};this.updateCovers(n)},this.updateCovers=function(e){qnx.callExtensionMethod("application.updateCovers",JSON.stringify(e))}},t.prototype.cards={mediaplayerPreviewer:e("./cards/mediaplayer"),filePicker:e("./cards/file"),camera:e("./cards/capture"),email:{composer:e("./cards/emailComposer")},calendar:{picker:e("./cards/calendarPicker"),composer:e("./cards/calendarComposer")},icsViewer:e("./cards/ics")},i.exports=t
}),define("core/lib/pps/ppsNetwork",["require","exports","module","./ppsUtils"],function(e,n,i){function t(e){function n(e){for(var n in e)e.hasOwnProperty(n)&&l.push(n)}function i(e){for(var n in e)e.hasOwnProperty(n)&&l.push(n)}function t(){l=l.sort(function(e,n){var i={rndis0:1,ecm0:2,tiw_sta0:3,ppp0:4};return(i[e]?i[e]:3)-(i[n]?i[n]:3)}),e()}var a=d.create(p+".all",d.PPSMode.FULL);l=[],a.onNewData=n,a.onFirstReadComplete=i,a.onClosed=t,a.open(d.FileMode.RDONLY),a.close()}function a(e){var n,i,t=e.ip_addresses,a=e.type;return"wifi"!==a&&"usb"!==a||!t||2!==t.length?void 0:(t[0].match("^([0-9]{1,3}([.][0-9]{1,3}){3}).*")?(n=t[0],i=t[1]):(i=t[0],n=t[1]),{ipv4Address:n.substr(0,n.indexOf("/")),ipv6Address:i.substr(0,i.indexOf("%")),type:a,connected:e.connected})}function o(e,n){if(l.length>e){var i=d.read(p+l[e]),t=a(i[l[e]]);r[l[e]]=t?t:null,o(++e,n)}else n(r)}var s,l,r,d=e("./ppsUtils"),p="/pps/services/networking/interfaces/",c="/pps/services/networking/status_public",u="/pps/services/cellular/radioctrl/status_cell_public";s={getNetworkInfo:function(e){e&&t(function(){r={},o(0,e)})},getActiveConnectionInfo:function(){var e,n,i,t,a,o=null,s=d.read(c);return i=s.status_public,""===i.default_interface?null:(o={},e=i.default_interface,o.defaultInterface=e,o.ipv4="yes"===i.ip4_ok?!0:!1,o.ipv6="yes"===i.ip6_ok?!0:!1,o.defaultGateways=i.default_gateway,n=d.read(p+e),n&&(o.type=n[e].type,o.up=n[e].up,"cellular"===n[e].type&&(a=d.read(u),t=a.status_cell_public,o.technology=t.network_technology)),o)}},i.exports=s}),define("wp2/lib/device",["require","exports","module","../../core/lib/pps/ppsUtils","./utils","../../core/lib/pps/ppsNetwork","../../core/lib/events","../../core/lib/chrome"],function(e,n,i){function t(e,n,i){Object.defineProperty(w,n,{get:function(){try{var n=r.read(e);return i.reduce(function(e,n){return e[n]},n)}catch(t){console.error(t)}},enumerable:!0})}function a(e){return 5>e?T.CRITICAL:e>=5&&15>e?T.LOW:T.NORMAL}function o(e){var n,i,t={statusChange:!1,chargeLow:!1,chargeCritical:!1};if(e.changed){e.changed.BatteryInfo&&e.data&&e.data.BatteryInfo&&e.data.BatteryInfo.BatteryStatus&&(x.level=e.data.BatteryInfo.BatteryStatus.StateOfCharge,t.statusChange=!0),e.changed.ChargerInfo&&e.data&&(x.isPlugged="NONE"!==e.data.ChargerInfo,t.statusChange=!0),n=a(x.level),n!==x.state&&(n===T.LOW?t.chargeLow=!0:n===T.CRITICAL&&(t.chargeCritical=!0),x.state=n);for(i in t)t.hasOwnProperty(i)&&t[i]&&wp.core.events.emit(f+i,[x])}}function s(e){x.level=e.status.BatteryInfo.BatteryStatus.StateOfCharge,x.isPlugged="NONE"!==e.status.ChargerInfo,x.state=a(x.level)}function l(e,n){var i=r.create(n,r.PPSMode.DELTA);i.onFirstReadComplete=function(n){wp.core.events.emit(e,[n])},i.onNewData=function(n){wp.core.events.emit(e,[n])},i.open(r.FileMode.RDONLY),g[n]=i}var r=e("../../core/lib/pps/ppsUtils"),d=e("./utils"),p=e("../../core/lib/pps/ppsNetwork"),c=e("../../core/lib/events"),u=e("../../core/lib/chrome").id,m="device.connectionChange",f="device.battery.",h={chargeLow:"chargeLow",chargeCritical:"chargeCritical",statusChange:"statusChange"},v="/pps/services/BattMgr/status",y="/pps/services/networking/status_public",g={},w={},b=null,x={},T={CRITICAL:0,LOW:1,NORMAL:2},M={L_SERIES:0,N_SERIES:1,R_SERIES:2,A_SERIES:3,W_SERIES:4};t("/pps/services/private/deviceproperties","devicePin",["deviceproperties","devicepin"]),t("/pps/services/private/deviceproperties","IMEI",["deviceproperties","IMEI"]),t("/pps/services/deviceproperties","defaultTheme",["deviceproperties","defaultTheme"]),t("/pps/services/deviceproperties","deviceOS",["deviceproperties","device_os"]),t("/pps/services/deviceproperties","deviceName",["deviceproperties","devicename"]),t("/pps/services/deviceproperties","hardwareId",["deviceproperties","hardwareid"]),t("/pps/services/deviceproperties","iconRes",["deviceproperties","icon_res"]),t("/pps/services/deviceproperties","modelFullName",["deviceproperties","modelfullname"]),t("/pps/services/deviceproperties","modelName",["deviceproperties","modelname"]),t("/pps/services/deviceproperties","scmBundle",["deviceproperties","scmbundle"]),t("/pps/services/deviceproperties","screenDPI",["deviceproperties","screen_dpi"]),t("/pps/services/deviceproperties","screenRes",["deviceproperties","screen_res"]),t("/pps/services/cellular/uicc/card0/status_private","mcc",["status_private","hplmn","mcc"]),t("/pps/services/cellular/uicc/card0/status_private","mnc",["status_private","hplmn","mnc"]),t("/pps/services/cellular/uicc/card0/status_restricted","IMSI",["status_restricted","imsi"]),t("/pps/services/confstr/_CS_TIMEZONE","timezone",["_CS_TIMEZONE","_CS_TIMEZONE"]),w.on=function(e,n){if(d.startsWith(e,f)){if(wp.core.events.on(e,n),void 0===g[v]){var i=r.create(v,r.PPSMode.DELTA);i.onFirstReadComplete=s,i.onNewData=o,i.open(r.FileMode.RDONLY),g[v]=i}}else e===m&&(wp.core.events.on(e,n),void 0===g[y]&&l(e,y))},w.un=function(e,n){var i,t;if(d.startsWith(e,f)){wp.core.events.un(e,n);for(t in h)if(h.hasOwnProperty(t)&&c.isOn(f+t))return;i=g[v],i.close(),delete g[v]}else e===m&&(wp.getController().removeEventListener(e,n),c.isOn(u,e)||(i=g[y],i.close(),delete g[y]))},w.getNetworkInterfaces=function(e){p.getNetworkInfo(e)},Object.defineProperty(w,"activeConnection",{get:function(){return p.getActiveConnectionInfo()},enumerable:!0}),w.getTimezones=function(e){if(e&&"function"==typeof e)if(b)e(b);else{var n=wp.getController().setFileSystemSandbox,i=function(){e(null),wp.getController().setFileSystemSandbox=n},t=function(t){t.file(function(i){var t=new FileReader;t.onloadend=function(){var i=this.result,t=i.split("\n"),a=[];t.forEach(function(e){/^"/.test(e)&&a.push(e.replace(/"/g,""))}),e(a),b=a,wp.getController().setFileSystemSandbox=n},t.readAsText(i)},i)},a=function(e){wp.getController().setFileSystemSandbox=!1,e.root.getFile("/usr/share/zoneinfo/tzvalid",{create:!1},t,i)};window.webkitRequestFileSystem(window.PERSISTENT,1048576,a,i)}},w.__defineGetter__("hasPhysicalKeyboard",function(){return window.matchMedia("(-blackberry-physical-keyboard)").matches}),w.__defineGetter__("hasOledScreen",function(){return window.matchMedia("(-blackberry-display-technology: -blackberry-display-oled)").matches}),w.__defineGetter__("type",function(){return 720===window.screen.height&&720===window.screen.width?this.hasOledScreen?M.N_SERIES:M.R_SERIES:1280===window.screen.height&&768===window.screen.width||768===window.screen.height&&1280===window.screen.width?M.L_SERIES:1280===window.screen.height&&720===window.screen.width||720===window.screen.height&&1280===window.screen.width?M.A_SERIES:1440===window.screen.height&&1440===window.screen.width?M.W_SERIES:void 0}),w.__defineGetter__("keyboardOffset",function(){return w.type===M.W_SERIES?"72":void 0}),w.__defineGetter__("keyboardHeight",function(){return w.type===M.W_SERIES?"480":void 0}),w.DEVICE_TYPE=M,i.exports=w}),define("wp2/lib/notification",["require","exports","module","../../core/lib/pps/ppsUtils"],function(e,n,i){var t,a=e("../../core/lib/pps/ppsUtils");t={TYPE_UIB_ONLY:"uib_only",TYPE_PREVIEW_ONLY:"preview_only",TYPE_UIB_SILENT:"uib_silent",notify:function(e,n){try{a.write({msg:"delete",dat:{itemid:e.options.tag}},"/pps/services/notify/control"),a.write({msg:"notify",dat:{itemid:e.options.tag,title:e.title,subtitle:e.options.body,target:e.options.target,targetAction:e.options.targetAction,payload:e.options.payload,payloadType:e.options.payloadType,payloadURI:e.options.payloadURI,type:e.options.type}},"/pps/services/notify/control"),n()}catch(i){n(i)}},remove:function(e){a.write({msg:"delete",dat:{itemid:e}},"/pps/services/notify/control")}},i.exports=t}),define("core/lib/automation/main",["require","exports","module","./../events","../pps/pps","./../rpc/rpc"],function(e,n,i){var t,a,o,s,l,r=e("./../events"),d=e("../pps/pps"),p=e("./../rpc/rpc"),c=!1,u=!1,m=!1,f="webDriverCoreScript",h=function(e){if(!m){var n=document.createElement("script");n.type="text/javascript",n.id=f,n.onload=function(){o=seleniumCoreRequire("main"),o.init(),e&&e()},n.src="platform:///seleniumCore.js",document.getElementsByTagName("head")[0].appendChild(n),m=!0,u=!0}},v=function(e){s=e},y=function(){if(t=d.create("/pps/browser/control",d.PPSMode.DELTA),a=d.create("/pps/browser/output",d.PPSMode.FULL),t.onFirstReadComplete=v,t.open(d.FileMode.RDONLY)&&a.open(d.FileMode.WRONLY)){var e=function(){c=!0,o.output=a.write,t.onNewData=o.ppsNewData,s?o.ppsNewData(s):t.onFirstReadComplete=o.ppsNewData,o.closePPS=l.close};h(e)}},g=function(){var e,n,i,t=d.create("/pps/services/automation/browser/output",d.PPSMode.FULL);t.open(d.FileMode.WRONLY)&&(e=window.require("iris/tabs/controller"),r.on("webpage.load.progress",function(t,a){a>=90&&(i=e.get(t),qnx.callExtensionMethod("webview.automationLog",window.iris.chromeId,"progressBarDisappears"),n="Navigation Request: old url="+i.oldUrl+" new url="+i.url+" webviewId= "+i.webviewId,console.log(n))}),t.close())};l={init:h,rpc:p,dinit:function(){var e=document.getElementById(f);e&&e.parentNode.removeChild(e),c=!1,m=!1,u=!1,o=0},close:function(){t.close(),a.close()}},r.once("automation.init",y),r.once("automation.init",g),i.exports=l}),define("core/lib/core.js",["require","exports","module","./events","./pps/ppsUtils","./invocation","./error","./automation/main"],function(e,n,i){i.exports={events:e("./events"),pps:e("./pps/ppsUtils"),invocation:e("./invocation"),error:e("./error"),automation:e("./automation/main")}}),define("core/plugins/toast/api",["require","exports","module","../../lib/events"],function(e,n,i){function t(e){l=e,c=0,l.rpc.on("toast.dismissed",function(e,n){var i=n.toastId;void 0!==i&&p[i]&&(p[i](i),delete p[i])}),l.rpc.on("toast.callback",function(e,n){var i=n.toastId;void 0!==i&&d[i]&&(d[i](i),delete d[i])}),l.rpc.on("toast.destroyed",function(){wp.ui.default.hideRenderingWebView(),r.emit("toast.destroyed")})}function a(e,n){var i={},t=c++;return n=n||{},e?(i.options=n,i.message=e,i.toastId=t,d[t]=n.callbackHandler,p[t]=n.dismissHandler,wp.ui.default.showRenderingWebView(),l.rpc.postMessage("toast.show",i),t):-1}function o(e){e=JSON.stringify(e),e&&l.rpc.postMessage("toast.hide",e)}var s,l,r=e("../../lib/events"),d=[],p=[],c=0;s={renderOn:t,show:a,hide:o},i.exports=s}),define("core/plugins/default/api",["require","exports","module"],function(e,n,i){function t(e){var n,i;r=e,l=window.wp.getApplication();try{n=document.getElementsByTagName("title")[0],n.parentNode.removeChild(n)}catch(t){}try{i=document.getElementsByTagName("body")[0],"I am the man behind the curtain."===i.firstChild.nodeValue.trim()&&i.removeChild(i.firstChild)}catch(t){}e.once("DocumentLoadFinished",function(){c=e.zOrder,e.zOrder=u}),l.on("application.fontchanged",function(e,n,i){r.rpc.postMessage("default.setBodyFont",{fontStyle:n,fontSize:i})}),l.on("application.systemLanguageChange",function(){r.rpc.postMessage("default.updateBaseDirection")})}function a(){var e,n;e=l.getSystemFontSize(),n=l.getSystemFontFamily(),r.rpc.postMessage("default.setBodyFont",{fontStyle:n,fontSize:e})}function o(){r&&p>0&&0===--p&&r.zOrder!==u&&(c=parseInt(r.zOrder,10),r.zOrder=u)}function s(){r&&(p+=1,r.zOrder=c)}var l,r,d,p=0,c=0,u=-10;d={renderOn:t,setDefaultFont:a,hideRenderingWebView:o,showRenderingWebView:s},i.exports=d}),define("core/plugins/childwebviewcontrols/api",["require","exports","module","./../../lib/events"],function(e,n,i){function t(){return S=!0,v.rpc.postMessage("childwebviewcontrols.show")}function a(){return S=!1,v.rpc.postMessage("childwebviewcontrols.hide")}function o(e){return v.rpc.postMessage("childwebviewcontrols.setTitle",e)}function s(){w=window.screen.height>window.screen.width?b.portrait:b.landscape}function l(e){y=window.wp.createWebView({processId:h},function(){y.zOrder=-10,y.backgroundColor=4294967295,s(),y.setGeometry(0,screen.height,screen.width,screen.height-w),y.visible=!0,E=!0,y.allowWebEvent("DialogRequested"),y.on("PropertyTitleEvent",function(e,n){k=n,S&&o(k)}),y.zOrder=1,y.on("Destroyed",function(){k="",E=!1,a(),y.delete(function(){y=null,wp.ui.default.hideRenderingWebView()})}),wp.ui.default.showRenderingWebView(),x.on("application.rotateDone",function(){s(),y.setGeometry(0,w,screen.width,screen.height-w),y.animateWindowLocation("Linear",0,0,screen.height,0,w,function(){y.active=!0},650)}),setTimeout(function(){t(),o(k),y.animateWindowLocation("Linear",.25,screen.width,w,0,w,function(){y.active=!0},650)},250),e&&"function"==typeof e&&e()})}function r(){qnx.callExtensionMethod("webview.goBack",y.id)}function d(){y&&(y.visible=!1,y.destroy())}function p(e,n){var i=function(){"function"==typeof n&&n()};E?(y.url=e,i()):l(function(){T.emit(M,[{webviewId:h,"return":!0},y],!0),y.url=e,i()})}function c(e,n){g=function(e,n){var i=JSON.parse(n);p(i.url),e.returnValue=JSON.stringify({setView:""+y.id})},h=e.processId,n?e.on("OpenWindow",g):e.on("ChildWindowOpen",g)}function u(e){e.un("OpenWindow",g),e.un("ChildWindowOpen",g)}function m(e){v=e,x=wp.getApplication(),b=720===window.screen.height&&720===window.screen.width?C.nSeries:1280===window.screen.height&&720===window.screen.width||720===window.screen.height&&1280===window.screen.width?C.aSeries:C.lSeries,v.rpc.on("childwebviewcontrols.back",function(){r()}),v.rpc.on("childwebviewcontrols.destroy",function(){d()})}var f,h,v,y,g,w,b,x,T=e("./../../lib/events"),M="ChildWebViewCreated",k="",S=!1,E=!1,C={lSeries:{portrait:"111",landscape:"101"},nSeries:{portrait:"93",landscape:"93"},aSeries:{portrait:"93",landscape:"84"}};f={renderOn:m,open:p,destroy:d,subscribeTo:c,unsubscribeTo:u,getChildWebView:function(){return y}},i.exports=f}),define("core/plugins/dialog/api",["require","exports","module","./../../../wp2/lib/utils"],function(e,n,i){function t(e,n){h?v.push({description:e,callback:n}):(h=!0,f=n,wp.ui.default.showRenderingWebView(),u.rpc.postMessage("dialog.show",e))}function a(e){var n,i,a=1,o=e.waitHandle;"function"==typeof f&&("CustomAsk"===e.dialogType?f(e.buttonIndex,e):f(e)),i=wp.getWebViewById(e.webviewId)||wp.getWebViewById(1),o&&(e&&e.ok||e.oktext?i.dialogResponse(o,e.oktext,e.username,e.password):e&&e.cancel?i.dialogResponse(o,""):i.dialogResponse(o,!0)),h=!1,v.length>0?(n=v.shift(),t(n.description,n.callback)):wp.core.events.emit(a,"dialog.hide",[i.id]),wp.ui.default.hideRenderingWebView()}function o(e){m="function"==typeof e.getWebViewObj?e.getWebViewObj():e,e=m,e.on("DialogRequested",g.DialogRequested=function(e,n){var i=JSON.parse(n),a={};switch(i.webviewId=e.webviewId?e.webviewId:null,i.dialogType){case w:case b:return;case x:case T:case M:m.dialogResponse(i.waitHandle,!0);break;case k:m.dialogResponse(i.waitHandle,!0),wp.core.events.emit("application.mediaError",[n]);break;default:i.hasOwnProperty("waitHandle")&&(t(i),a.setWait=!0)}a.setPreventDefault=!0,e.returnValue=JSON.stringify(a)}),e.on("SSLHandshakingFailed",g.SSLHandshakingFailed=function(n,i){var a=JSON.parse(i),o=a.url,s={dialogType:"SSLCertificateException",url:o,webviewId:n.webviewId?n.webviewId:null};t(s,function(n){n.ok?e.continueSSLHandshaking(a.streamId,"SSLActionTrust"):e.continueSSLHandshaking(a.streamId,"SSLActionReject")})}),e.on("GeolocationPermissionRequest",g.GeolocationPermissionRequest=function(n,i){var a=JSON.parse(i),o={dialogType:"GeolocationPermission",url:a.origin,waitHandle:n.waitHandle,webviewId:n.webviewId?n.webviewId:null},s={target:"sys.settings.card",uri:"settings://location"},l=function(){e.reload(),wp.core.invocation.un("childCardClosed",l)};a.showGlobalPermissionRequest?t(o,function(n){n.ok?(wp.core.invocation.on("childCardClosed",l),wp.core.invocation.invoke(s),e.allowGeolocation(a.origin)):e.disallowGeolocation(a.origin)}):e.allowGeolocation(a.origin),n.returnValue='{"setPreventDefault": true}'}),e.on("UserMediaRequest",g.UserMediaRequest=function(n,i){function a(e){return"CAMERA_UNIT_FRONT"===e?p.translate("Front").fetch():p.translate("Rear").fetch()}var o,s,l=JSON.parse(i),r=[];if(l.cameras&&0!==l.cameras.length){if(1===l.cameras.length)e.allowUserMedia(l.id,l.cameras[0]);else{for(s=0;l.cameras.length>s;s++)r[s]=a(l.cameras[s]);o={dialogType:"CameraSelection",title:p.translate("Camera Selection").fetch(),cameras:r,webviewId:n.webviewId?n.webviewId:null}}t(o,function(n){n.ok&&e.allowUserMedia(l.id,l.cameras[n.cameraSelectedIndex])})}})}function s(e){m="function"==typeof e.getWebViewObj?e.getWebViewObj():e,e.un("DialogRequested",g.DialogRequested),e.un("SSLHandshakingFailed",g.SSLHandshakingFailed),e.un("GeolocationPermissionRequest",g.GeolocationPermissionRequest),e.un("UserMediaRequest",g.UserMediaRequest)}function l(e){u=e,p=y.i18n(),h=!1,v=[],u.rpc.un("dialog.response",g.dialogResult),u.rpc.on("dialog.response",g.dialogResult=function(e,n){a(n)})}function r(){return!!h}function d(){return u}var p,c,u,m,f,h,v,y=e("./../../../wp2/lib/utils"),g={},w="AuthenticationChallenge",b="SaveCredential",x="InsecureSubresourceLoadPolicyConfirm",T="DatabaseQuotaExceeded",M="WebFileSystemQuotaExceeded",k="MediaError";c={show:t,subscribeTo:o,unsubscribeTo:s,result:a,renderOn:l,isShowingDialog:r,getRenderingWebView:d},i.exports=c}),define("core/plugins/invocationlist/api",["require","exports","module","../../lib/events","../../../wp2/lib/menuService","../../../wp2/lib/utils"],function(e,n,i){function t(e){l=e,r=wp.core.invocation}function a(e,n,i,t){var a,o,s,l=wp.getApplication().getEnv("HOME")+"";d=i,o=function(e){e&&"function"==typeof t?t(e):i()},u.isLocalUrl(e.uri)&&(e.uri="file:///"+l.replace(/^\/*/,"")+"/../app/native/"+e.uri.replace(/local:\/\/\//,"")),c.getMenuItems(e,function(e,n,i){var t={};if(i)console.log(i);else for(a=n&&n.hasOwnProperty("items")?n.items:[],s=0;a.length>s;s++)"uri"in e?t.uri=e.uri:"uri"in n["inherited-target"]&&(t.uri=n["inherited-target"].uri),"mime"in n["inherited-target"]&&(t.mime=n["inherited-target"].mime),"data"in n["inherited-target"]&&(t.data=n["inherited-target"].data),"action"in a[s]&&(t.action=a[s].action),"icon"in a[s]&&(t.icon=a[s].icon),"label"in a[s]&&(t.label=a[s].label),"invoke"in a[s]&&("data"in a[s].invoke&&!t.data&&(t.data=a[s].invoke.data),t.type=a[s].invoke.mime,"metadata"in a[s].invoke&&(t.metadata=a[s].invoke.metadata),"target"in a[s].invoke&&(t.target=a[s].invoke.target),"uri"in a[s].invoke&&(t.uri=a[s].invoke.uri)),r.invoke(t,o)})}function o(){r.closeChildCard(),p.emit("invocationlist.hide",[l.id])}var s,l,r,d,p=e("../../lib/events"),c=e("../../../wp2/lib/menuService"),u=e("../../../wp2/lib/utils");s={show:a,hide:o,renderOn:t},i.exports=s}),define("core/plugins/formcontrol/api",["require","exports","module"],function(e,n,i){function t(){c.rpc.postMessage("formcontrol.init"),f.enable=!1,m=!0}function a(){m&&c.rpc.postMessage("formcontrol.update",f)}function o(e){var n=wp.getApplication();c=e,m||t(),c.rpc.on("formcontrol.sensitivity",function(e,n){c.sensitivity=n}),c.rpc.on("formcontrol.action",function(e,n){u&&-1!==v.indexOf(n)&&qnx.callExtensionMethod("webview."+n,u.id)}),c.rpc.on("formcontrol.hidden",function(){f.enable&&(f.enable=!1,wp.ui.default.hideRenderingWebView())}),n.on("application.keyboardPosition",function(e){c.rpc.postMessage("formcontrol.updateVerticalPosition",e)}),n.on("application.keyboardClosing",function(){f.enable&&c.rpc.postMessage("formcontrol.hide")})}function s(e,n){f.enable=!0,f.previousEnabled=e,f.nextEnabled=n,a()}function l(){f.enable=!1,a()}function r(e){u=e,e.on("FormControlEvent",h.FormControlEvent=function(e,n){n=JSON.parse(n),f.enable===!1&&n.isVisible===!0&&setTimeout(wp.ui.default.showRenderingWebView,300),f.enable=n.isVisible,f.previousEnabled=n.isPreviousActive,f.nextEnabled=n.isNextActive,c.rpc.postMessage("formcontrol.update",f)})}function d(e){u=e,e.un("FormControlEvent",h.FormControlEvent)}function l(){c.rpc.postMessage("formcontrol.hide")}var p,c,u,m,f={},h={},v=["focusPreviousField","focusNextField","submitForm"];p={renderOn:o,subscribeTo:r,unsubscribeTo:d,show:s,hide:l},i.exports=p}),define("core/lib/ui.js",["require","exports","module","../plugins/toast/api","../plugins/default/api","../plugins/childwebviewcontrols/api","../plugins/dialog/api","../plugins/contextmenu/api","../plugins/invocationlist/api","../plugins/formcontrol/api"],function(e,n,i){function t(e,n,i){var t,o;i=i||{},e.rpc.enable=!0,n.rpc.enable=!0;for(o in a)i.exclude&&i.exclude.indexOf(o)>-1||(t=a[o],t.renderOn(e),"function"==typeof t.subscribeTo&&t.subscribeTo(n))}var a={toast:e("../plugins/toast/api"),"default":e("../plugins/default/api"),childwebviewcontrols:e("../plugins/childwebviewcontrols/api"),dialog:e("../plugins/dialog/api"),contextmenu:e("../plugins/contextmenu/api"),invocationlist:e("../plugins/invocationlist/api"),formcontrol:e("../plugins/formcontrol/api")};i.exports={"default":a.default,toast:a.toast,childwebviewcontrols:a.childwebviewcontrols,dialog:a.dialog,contextmenu:a.contextmenu,invocationlist:a.invocationlist,formcontrol:a.formcontrol,init:t}}),define("wp2/lib/main",["require","exports","module","../../core/lib/webviewManager","./defaultHandlers/InvokeRequestEvent","./defaultHandlers/onChooseFile","./defaultHandlers/onOpenWindow","../../dependencies/URI.js/src/URI","../../core/lib/WebView","./Application","./device","../../core/lib/chrome","../../core/lib/chrome/internal","../../core/lib/pps/ppsUtils","./utils","./notification","../../core/lib/core.js","../../core/lib/ui.js"],function(e){var n,i,t,a=e("../../core/lib/webviewManager");n=e("./defaultHandlers/InvokeRequestEvent"),i=e("./defaultHandlers/onChooseFile"),t=e("./defaultHandlers/onOpenWindow"),window.URI=e("../../dependencies/URI.js/src/URI"),window.wp=function(){function n(e,n){window.chrome.internal[e]?(o={},Object.getOwnPropertyNames(n).forEach(function(i){o[i]=window.chrome.internal[e][i],window.chrome.internal[e][i]=function(){n[i].apply(this,arguments),o[i]&&o[i].apply(this,arguments)}})):window.chrome.internal[e]=n}var i,t,o,s,l=e("../../core/lib/WebView"),r=e("./Application"),d=e("./device"),p=e("../../core/lib/chrome"),c=e("../../core/lib/chrome/internal"),u=e("../../core/lib/pps/ppsUtils"),m=e("./utils"),f=e("./notification");return i=new l({WebViewId:p.id}),i.autoDeferNetworkingAndJavaScript=!1,a.webViews.push(i),t=new r,window.chrome||(window.chrome={}),window.chrome.internal||(window.chrome.internal={}),n("webEvent",c.webEvent),n("invocation",c.invocation),n("application",c.application),n("windowAnimations",c.windowAnimations),n("pps",c.pps),n("webDriver",c.webDriver),s={getController:function(){return i},getApplication:function(){return t},notification:f,nativeCall:function(){return qnx.callExtensionMethod.apply(qnx,Array.prototype.slice.apply(arguments))},device:d,pps:u,core:e("../../core/lib/core.js"),ui:e("../../core/lib/ui.js")},s=m.mixin(s,a)}(),window.wp.core.events.emit("automation.init",[],!1),a.init()}),require(["wp2/lib/main"])})();
//@ sourceMappingURL=wp-2.js.map